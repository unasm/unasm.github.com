<html>
    <head>
        <meta http-equiv="content-type" content="text/html; charset=utf-8" />

        <title>关于公司代码的点评</title>
    </head>
    <body>
        <h2>关于公司代码的点评</h2>
        <blockquote>
            <p>我先在说的只是缺点了，大概或许更有意义一些，总体来说大概分为一下几点</p>
            <ol>
                <li>
                    代码块的臃肿
                </li>
                <li>
                    文件与文件之间的耦合
                </li>
                <li>
                    注释上的规范
                </li>
                <li>
                    开发文档的缺失
                </li>
            </ol>
        </blockquote>
        <blockquote>
            <p>
                首先我说一下代码块的臃肿这一点，主要得来说，就是觉得大段大段的代码之间平铺开来，没有功能的划分，也没有使用函数,就以account/logging.php来说，整个文件两百多行，
                没有使用一个函数，整个文件，就是一个巨大的函数，require了就执行的函数，这点，我想是不对的，一个函数，最高不超过一屏，一行代码，最长不过一屏，这个是之前我学习开发规范的时候里面提及的。
                我想这句话是有道理的，将一个文件内部的代码分为若干个函数有以下好处，首先，功能的细化，每个函数完成的，是一个小功能，必须独立，方便测试与维护
                第二点，增加了代码的可阅读性，整个代码由若干子函数组成，只需明了函数功能，而不用深入研读代码，第三点，或许可以有，就是增加复用性，复用性的增加其实要看场景，就以account/logging.php来说，不具备这点
            </p>
            <p>
                <p>
                    说到耦合这一点，弱耦合应该是所有软件工程师的想法，文件于文件之间有联系是难免的，而这种联系应该是越少越好，
                </p>
                <p>
                    某种意义上来说，我可以理解$_G的存在，有些全局的状态标记是正常的，只是说。$_G里面居然有如此多的内容，真是让人意外，有次var_dump $_G发现里面居然有一篇文章的存在，
                    我想，对全局变量的使用，应该是过头了，没有考虑过内存浪费么，最小权限定理，我想应该是很多的人都知道的。
                </p>
                <p>
                还有uc_client/model/user.php里面的UC_DBTABLEPRE,至今找不到在哪里有申明赋值，至少，不在父类，也不在调用函数里面，
                一个变量，在调用级别上超过三层，无论当初设计者心里的模型是怎么样的，我想都应该思考下，是不是可以更加扁平化。
				公司代码的函数调用上有问题，uc_client/client.php里面这么多函数，居然没有一个class声明，class不是必须的，只是为了避免文件重名造成的冲突，还有方便查找，函数上百个很容易，但是class上百个不容易
                </p>
            </p>
			<p>
				注释的重要性，应该不需要我来说明了吧，在我入职的时候，记得有收到一份关于注释规范的说明，只是在阅读代码的时候，却没有发现任何注释，我对phpdocument的遵守非常严格，所以面对没有注释的代码，总是觉得无法接受。目前公司的代码，看起来像一个人闭关一个月火急火燎的实现了功能，然后甩手度假去了的样子。
			</p>
			<p>
				网站没有文档，注释当然也算文档，只是除此之外，应该还有一些说明和注释文档，说明设计者的意图，模型，以及各个模块的划分，文件夹的功能和位置，以及数据库每个字段的意义，整体网站的模型，结构之类的东西。我认为这个对理解和二次开发都很重要，也是程序员沟通，决策的依据。或许是因为我没有看discuz的文档吧，才会有这种感觉，即使如此，二次开发应该也有二次开发的说明文档。
			</p>
        </blockquote>
    </body>
</html>
