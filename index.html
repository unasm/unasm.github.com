<!DOCTYPE html>



  


<html class="theme-next mist use-motion" lang>
<head><meta name="generator" content="Hexo 3.9.0">
  <meta charset="UTF-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
<meta name="theme-color" content="#222">









<meta http-equiv="Cache-Control" content="no-transform">
<meta http-equiv="Cache-Control" content="no-siteapp">
















  
  
  <link href="/lib/fancybox/source/jquery.fancybox.css?v=2.1.5" rel="stylesheet" type="text/css">







<link href="/lib/font-awesome/css/font-awesome.min.css?v=4.6.2" rel="stylesheet" type="text/css">

<link href="/css/main.css?v=5.1.4" rel="stylesheet" type="text/css">


  <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-next.png?v=5.1.4">


  <link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32-next.png?v=5.1.4">


  <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16-next.png?v=5.1.4">


  <link rel="mask-icon" href="/images/logo.svg?v=5.1.4" color="#222">





  <meta name="keywords" content="Hexo, NexT">










<meta name="description" content="You&apos;re waiting for a trainA train that will take you far awayYou know where you hope will be takenBut you can&apos;t know for sureYet it doesn&apos;t matterBecause we are staying together">
<meta name="keywords" content="人工智能，生活随想">
<meta property="og:type" content="website">
<meta property="og:title" content="无所欲无所忧，无心者无所求，饱食而遨游，泛若不系之舟">
<meta property="og:url" content="http://unasm.com/index.html">
<meta property="og:site_name" content="无所欲无所忧，无心者无所求，饱食而遨游，泛若不系之舟">
<meta property="og:description" content="You&apos;re waiting for a trainA train that will take you far awayYou know where you hope will be takenBut you can&apos;t know for sureYet it doesn&apos;t matterBecause we are staying together">
<meta property="og:locale" content="default">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="无所欲无所忧，无心者无所求，饱食而遨游，泛若不系之舟">
<meta name="twitter:description" content="You&apos;re waiting for a trainA train that will take you far awayYou know where you hope will be takenBut you can&apos;t know for sureYet it doesn&apos;t matterBecause we are staying together">



<script type="text/javascript" id="hexo.configurations">
  var NexT = window.NexT || {};
  var CONFIG = {
    root: '/',
    scheme: 'Mist',
    version: '5.1.4',
    sidebar: {"position":"left","display":"post","offset":12,"b2t":false,"scrollpercent":false,"onmobile":false},
    fancybox: true,
    tabs: true,
    motion: {"enable":true,"async":false,"transition":{"post_block":"fadeIn","post_header":"slideDownIn","post_body":"slideDownIn","coll_header":"slideLeftIn","sidebar":"slideUpIn"}},
    duoshuo: {
      userId: '0',
      author: 'Author'
    },
    algolia: {
      applicationID: '',
      apiKey: '',
      indexName: '',
      hits: {"per_page":10},
      labels: {"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}
    }
  };
</script>



  <link rel="canonical" href="http://unasm.com/">





  <title>无所欲无所忧，无心者无所求，饱食而遨游，泛若不系之舟</title>
  








</head>

<body itemscope itemtype="http://schema.org/WebPage" lang="default">

  
  
    
  

  <div class="container sidebar-position-left 
  page-home">
    <div class="headband"></div>

    <header id="header" class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-wrapper">
  <div class="site-meta ">
    

    <div class="custom-logo-site-title">
      <a href="/" class="brand" rel="start">
        <span class="logo-line-before"><i></i></span>
        <span class="site-title">无所欲无所忧，无心者无所求，饱食而遨游，泛若不系之舟</span>
        <span class="logo-line-after"><i></i></span>
      </a>
    </div>
      
        <p class="site-subtitle"></p>
      
  </div>

  <div class="site-nav-toggle">
    <button>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
    </button>
  </div>
</div>

<nav class="site-nav">
  

  
    <ul id="menu" class="menu">
      
        
        <li class="menu-item menu-item-home">
          <a href="/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-home"></i> <br>
            
            Home
          </a>
        </li>
      
        
        <li class="menu-item menu-item-about">
          <a href="/about/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-user"></i> <br>
            
            About
          </a>
        </li>
      
        
        <li class="menu-item menu-item-archives">
          <a href="/archives/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-archive"></i> <br>
            
            Archives
          </a>
        </li>
      

      
    </ul>
  

  
</nav>



 </div>
    </header>

    <main id="main" class="main">
      <div class="main-inner">
        <div class="content-wrap">
          <div id="content" class="content">
            
  <section id="posts" class="posts-expand">
    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://unasm.com/2020/02/08/美国与中国-第一篇/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content>
      <meta itemprop="description" content>
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="无所欲无所忧，无心者无所求，饱食而遨游，泛若不系之舟">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2020/02/08/美国与中国-第一篇/" itemprop="url">美国与中国 第一篇</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2020-02-08T14:28:28+08:00">
                2020-02-08
              </time>
            

            

            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h3 id="第一篇"><a href="#第一篇" class="headerlink" title="第一篇"></a>第一篇</h3><h4 id="1-中国社会的本质"><a href="#1-中国社会的本质" class="headerlink" title="1. 中国社会的本质"></a>1. 中国社会的本质</h4><h5 id="1-1-社会结构"><a href="#1-1-社会结构" class="headerlink" title="1.1 社会结构"></a>1.1 社会结构</h5><blockquote>
<p>旧中国是世界上以上层阶级统治多数人的一大典型，城乡二元分裂。社会单元是家庭而不是个人，家庭生活灌输孝道和顺从，培养一个人以后终于统治者并且顺从国家政权的训练基地。儒家强调三纲，君为臣纲，父为子纲，夫为妻纲。熟悉和习惯家族制度的中国人，在官吏等级森严的政府机构内，也乐于接受类似的地位尊卑制度，德国社会学家形容中国为“家族结构式国家”</p>
</blockquote>
<h5 id="1-2-士绅阶层"><a href="#1-2-士绅阶层" class="headerlink" title="1.2 士绅阶层"></a>1.2 士绅阶层</h5><blockquote>
<p> 中国的士绅可以按照经济和政治两重意义来理解。传统的士绅是通过考试，举荐，捐钱取得功名的个人。作为个人的士绅是公家官员，掌管政治和行政事务。同时也是出于家族关系中的成员，依靠家族关系维持生计，所以他们广义的应该被视为家族。在百姓大众眼里，士绅还应该包括大地主，合适统治阶级的经济基础。穷人可以凭才学成为狭义的士绅，大多数情况下，有科举功名的人总同地主家庭有关系。士绅家族在当地充当领导地位和管理职能，政府放弃了对城镇集市的官方管理。++县官只有通过与当地士绅合作才能进行治理++。</p>
</blockquote>
<blockquote>
<p>中国的考试制度显得异常公允广泛，表明中国的统治者是真正需要真才实学的人来维持有效的行政机构的。但是这个无私的制度选拔出最优秀的人之后，做官的人可以凭个人做主施政，遵循的是注重个人品格的“道德原则”，而不是“法治精神”。</p>
</blockquote>
<blockquote>
<p>官员，地主，士大夫构成了统治阶级，有土地有剩余农产品的家庭，可以让儿子有余暇读书成士。士人读书后可以通过考试做官。官员可以从衙门油水维持生活，置田买宅。</p>
</blockquote>
<h5 id="1-3-资本主义的不发达与商人"><a href="#1-3-资本主义的不发达与商人" class="headerlink" title="1.3 资本主义的不发达与商人"></a>1.3 资本主义的不发达与商人</h5><p>美国人迫切想知道为什么中国的商人阶层不能冲破对官场的依赖，产生独立的创业力量。</p>
<blockquote>
<ol>
<li>按照古典经济学的说法，经济生活中人要通过生产谋取最大的好处，获取利润。但是中国的传统不是靠增加生产，而是靠增加已生产的产品的份额。</li>
</ol>
</blockquote>
<blockquote>
<ol start="2">
<li>官商之间总可以找到密切的共同利益点，政府的保护好支持迷不可少（今天不也是吗？国内外不都是吗?）商人可以通过购置田产，捐功名，通婚跻身士绅阶层。中国不想欧洲，没什么对外贸易可供商人投资（我觉得这个才是本质，没有对外贸易，对内全盘政府接管）。</li>
</ol>
</blockquote>
<h4 id="2-孔孟之道"><a href="#2-孔孟之道" class="headerlink" title="2.  孔孟之道"></a>2.  孔孟之道</h4><h5 id="2-1-儒家原则"><a href="#2-1-儒家原则" class="headerlink" title="2.1 儒家原则"></a>2.1 儒家原则</h5><blockquote>
<p>西方学者认为它主张忍耐(佛，伊斯兰，基督都这样)，平和以及妥协等美德，主张中庸之道，主张守旧和知足，主张尊崇祖先，老人和饱学之士，最主要的是主张温和的人本主义，以人而非上帝作为宇宙的中心。（为社会稳定有序服务，但是缺少人文关怀）</p>
</blockquote>
<blockquote>
<p>儒家思想力图使每个人都变成有道德的人，随时以理想坚持德行，反对人类的谬误。而改革朝政的热情和坚持信念的动力，是为了重申和维护传统的政治形态，而不是改变它的基本前提。</p>
</blockquote>
<blockquote>
<p>儒家强调君王必须有道的理论基础，要顺应天时，广行善事，维持人与自然的协调。行为端正几位有德，以礼持约，本身这件事情就能给人以道德地位和威望。端正的行为赋予统治者以权力。儒家给现政权行使威权提供了一种理性的和伦理的依据。</p>
</blockquote>
<h5 id="2-2-经学正统"><a href="#2-2-经学正统" class="headerlink" title="2.2 经学正统"></a>2.2 经学正统</h5><blockquote>
<p>四书的训诫把父道政府描写成安邦家国的关键。理学比古代经传更为完整，并且因重新解释古代经典著作而富于儒家思想更多推理的内容，从佛学吸收了肯定唯心主义的成分，提供了对生活问题的更多解答。主张性本善表述在著名的《三字经》开头几句话里，是中国世世代代孩童最早学习的书，这就难怪西方传教士关心原罪的忧郁思想，难以战胜乐观的儒家观点。政治上，理学家认为君王应该了解真正的治国之道，通过道德上的自我修养成为圣人。研读经书和考试制度车鞥为灌输儒家忠孝原则的有效工具。</p>
</blockquote>
<h5 id="2-3-中国式个人主义"><a href="#2-3-中国式个人主义" class="headerlink" title="2.3 中国式个人主义"></a>2.3 中国式个人主义</h5><blockquote>
<p>自古以来的修养，是指人要生活在“众人之中”，同他周围的人建立适当的关系，按照道德原则来生活，以实现他的个性。孟子曰：“父子有亲，君臣有义，夫妇有别，长幼有序，朋友有信”。王阳明反对理学，提出人都有的公共道德天性（良知），每个人在自己内心里都有直观的道德知识。他有成为圣贤的内在可能性。因此他的任务就是完成道德上的自我革新。主要通过学习才能做到，而学习应包括思考，反省以及不断的寻求真理，不仅要背诵基本原则，而是要依赖个人实践。</p>
</blockquote>
<h5 id="2-4-科学的不发达"><a href="#2-4-科学的不发达" class="headerlink" title="2.4 科学的不发达"></a>2.4 科学的不发达</h5><blockquote>
<p>西方的科技实际上只是晚近才出现的事。1900年以前，西方的实际医疗成就没有超过中医。17世纪末，儒家学者开始对古代经籍和其中的教条持有一种较为实用好批判的观点。这种叫做“汉学”与“宋学”相对立，是以批判方法治学的总的运动的一部分，然而他们仍未能冲破儒家思想的藩篱，不甚关心物质技术。科学发展的另一个阻碍是中国学者未能制订出一套比较完整的逻辑体系，使人们能够以此概念来检验概念，并系统的将一种陈述与另一种陈述对比。一般来说，中国人之所以落后是由于缺乏动机而非缺乏能力，是由于社会条件而非天生才智，2000年来中国政治生活中孔孟思想格局造成的根深蒂固的惯性。</p>
</blockquote>
<h4 id="3-异族统治与朝代更迭"><a href="#3-异族统治与朝代更迭" class="headerlink" title="3. 异族统治与朝代更迭"></a>3. 异族统治与朝代更迭</h4><p>田中义一和土肥原贤二支流说来可悲，他们把中国的历史研究的太到家了，但是没有研究到最近。现代中国民族主义是历史上的新兴力量，蒙古人和满洲人过去的辉煌征略场景，再也不能再今天重演了</p>
<h5 id="3-1-游牧民族的征略"><a href="#3-1-游牧民族的征略" class="headerlink" title="3.1 游牧民族的征略"></a>3.1 游牧民族的征略</h5><blockquote>
<p>中国遏制游牧民族入侵的措施，是秦始皇连接万里长城（遏制小鼓骚扰，禁止通商），之后或是通过防御性的出击，或是通过行贿纳币，或者通过外交活动或者谈判（也包括离间），入侵的游牧民族发现他们只能按照中国的方式才能统治中国，继承天命的人按儒家原则办事，不管谁来都行。</p>
</blockquote>
<h5 id="3-2-头几个中外帝国"><a href="#3-2-头几个中外帝国" class="headerlink" title="3.2 头几个中外帝国"></a>3.2 头几个中外帝国</h5><blockquote>
<p>契丹地跨草原和农耕地带之间，兼有游牧骑兵的武力和农耕区的经济力量。耶律家族采用了中国世袭君主制以及儒家的治国方式。结果出现了双重性的国家，南部是中国式的，背部是夷狄式的，金国也是同样的格局。这些夷狄国家的成就只限于军力而不在于文化，其历史意义主要是作为未来灾祸的前奏。中国的蒙古人只是大蒙古帝国的一部分，他们的道德准则和法治都异于中国（中国的统治更多是由士绅阶层维持，上层变动无法动摇这点），因而蒙古人未能而满族人却能巩固并利用儒家思想体系已达到他们目的。</p>
</blockquote>
<h5 id="3-3-满人的成就"><a href="#3-3-满人的成就" class="headerlink" title="3.3 满人的成就"></a>3.3 满人的成就</h5><blockquote>
<p>虽然他们按照中国方式施政，他们异族渊源和背景却有助于他们在统治集团内保持政治上的青春活力。满人于1644年征服中国的主要原因，是他们入住中国时已掌握了儒家的治国之道，并使他们自己的政治制度与之相适应（所以说李自成是不是崛起太快了，以至于没有准备好），对于他们来说，只要一心注意中国问题就行了，这一点不像蒙古人（元顺帝也是才能有限）。为了保持皇朝活力，他们封闭老家，禁止汉人移入（所以有后来创关东之说？），把满洲组织在一个满洲军政府治下。在民政管理上，采用双重任命制，一个能干的汉人做实际工作，一个忠诚的满人监视他。为了吸收最能干最有前途的汉人效劳，满人注意使考试制度继续实施，并且尽可能受人重视，尽可能行之有效。</p>
</blockquote>
<blockquote>
<p>这种异族统治并未削弱而是加强了儒家的思想传统，这让人认为中国的文化势必民族主义更为基本的东西，放在了一个普遍的，而不是某个地区某个种族的水平（基辛格也认可）。异族统治产生了有趣的现象：19世纪中国进入现代世界时，在民族主义精神方面，显得特别落后，然而在20世纪革命中，他们对自身文化，或者文化素养的世代相传的自豪感激起了一股新的“文化民族主义”，这在将来可能会胜过那些发生在欧洲的政治上的民族主义。中国总是坚持两大政治信念：中华帝国是统一的（基于这种理念，所以唐定南方，西蜀，明朝北伐，解放军解放南方都很轻松，而元灭金灭宋灭夏，清定南方就很艰难），它比一切外国优越。</p>
</blockquote>
<h5 id="3-4-朝代的盛衰周期"><a href="#3-4-朝代的盛衰周期" class="headerlink" title="3.4 朝代的盛衰周期"></a>3.4 朝代的盛衰周期</h5><blockquote>
<p>研究中国历史之后看今天的中国，你就会觉得，孙中山，蒋介石，毛泽东相继夺取政权，并组织政权的努力是一个古老主旋律的变奏。朝代的衰微是和通知家族的日益无能一起出现的。有人用经济史观来解释朝代循环，每个朝代不纳田赋的土地越来越多，而田赋是政府岁收和权力的主要来源。统治阶级能够逐步增加他们的田产，并用各种手段不缴田赋，而仍纳税负的农民土地税负越来越重，结果就发生了农民骚动（明朝就是这样，所以有说法说“明亡于东林党”，今天是不是也这样，资产阶级想尽办法避税，贫民税收越来越重）</p>
</blockquote>
<h4 id="4-政治传统"><a href="#4-政治传统" class="headerlink" title="4. 政治传统"></a>4. 政治传统</h4><h5 id="4-1-官僚体制"><a href="#4-1-官僚体制" class="headerlink" title="4.1 官僚体制"></a>4.1 官僚体制</h5><blockquote>
<p>旧中国皇朝统治是发展的最彻底最巧妙的官僚体制，对新近才碰到官僚政治问题的美国人来说（震惊），中国人怎么样避开官僚政治传统的坏处而又利用其好处，是个颇有趣味的问题。</p>
</blockquote>
<blockquote>
<p>北京气派宏伟的对称布局显示统治者为中心的堂皇气象。官僚政治的原则一般是一个官员制约另一个官员，一个人出名后，常常派他兼管多职，使他哪个职务也不能完全主持，同时也派很多人完成同一项任务，使谁也不能完全加以控制。使之互相制约。督查院选56名御史，分驻各省的15个道，向皇帝上奏朝廷与人民利益的一切事务。还发明了一种“宫廷奏折”，只能由皇帝亲自拆阅，这样整个官场都是统治者的密保人员。官僚制度弊端是事情都由底层发动，层层上报由皇帝决定，下级官员提出的创新或者没有先例的意见既不易上达又危险，唯命是从比较安全，容易扼杀下层主动性。最上层的也因工作效率忙不过来而受不利影响。现代中国仍受这一传统之害。</p>
</blockquote>
<blockquote>
<p>官员必须对治下发生的一切公众事件负责，而不必对公款负责，预算和会计手段是非常简陋的，官员靠我们称之为“系统化贪污”行为来谋生。中国官僚制突出特点是“勒索”和任人唯亲，这是彼此起加强作用的孪生制。</p>
</blockquote>
<h5 id="4-2-法律"><a href="#4-2-法律" class="headerlink" title="4.2 法律"></a>4.2 法律</h5><blockquote>
<p>西方，个人可以求助于法律，对抗官员的专擅。古代中国人认为人的行动必须合乎天理，统治者的职责是维护这种协调统一，统治者是以懿形美德而不以法律影响百姓，认为通晓事理的文明人会受到榜样和高尚行为的指引，而不需绳以法规（借口，是因为不需要，贫民在德治的情况下能维持差不多的稳定而不用严格依赖法律），只有对那些野蛮人，未开化的人才需要实行惩罚而使其愉服（跟西方所谓异教徒说法一个调调）。理论上，赏罚总是为保证人们循规蹈矩的次要手段，目的是“以罚止罚”。孔子认为，法律条文是道德精神的一种表现形式，法律从属于道德，它之所以获得认可，是在于理性。百姓尽量避免打官司，到了那里，原告和被告受审时要先按规定形式打板子，而且谁都必须给衙役使钱。正当理由是属于政府和社会秩序的，是从政府下达到私人的上下关系，而不是为了无所偏袒的解决私人间的纠纷。总之，法律是不断斗争中维持道德秩序的手段，主要是为国家和社会利益服务的，纠纷尽可能由村长，乡邻，士绅来调节，使他们不致涉诉。这一点与没有资本主义和缺乏独立的工商阶级有关。</p>
</blockquote>
<h5 id="4-3-宗教"><a href="#4-3-宗教" class="headerlink" title="4.3 宗教"></a>4.3 宗教</h5><p>孙中山曾抱怨他的同胞像“一盘散沙”（小农经济和政府刻意的结果）。普通人对政府是特别消极的态度，对国家事务不负责任。对家庭忠诚而不顾公共利益，一丝不苟的执行按照惯例必须履行的责任，而对陌生人的疾苦漠然置之。</p>
<blockquote>
<p>道教表示了平民百姓的自然主义宇宙观，以及对看不见的自然精灵的信仰，提供了逃出儒家思想的出路，每当读书人对过分严格的礼教和经籍心生反感时，道教都有所发展，是摆脱世间繁琐事务的避难所。儒家主张遵守礼法，道家用消极的哲学来回避矛盾。</p>
</blockquote>
<blockquote>
<p>佛教最早信条之一是生命轮回，人生是痛苦的，并且不仅限于今世，万物皆有因果循环中的他物锁定，今生的苦难来自某些前因，消灭了前因就可能消灭苦难本身。故情欲源于知觉，知觉源自六根和接触等等。因此佛教徒的目的，就是要斩断轮回，斩断把人束缚在情欲爱中的因果链。大乘佛教提出了涅槃这一积极教义，只是佛教徒力求达到的境界。佛教给了旧社会的崩溃提供了解释和安慰，在理智上是能够打动人心的，在美学上也能够令人满意。在中国本土发展的教派中，最出名的是禅宗，他们是通过参禅来求得悟道的（闭上眼能想到个啥？）。</p>
</blockquote>
<blockquote>
<p>无论佛道都未能摆脱世俗权力约束而取得独立地位。官员总是把佛教置于严密控制之下（佛教徒不事生产，占有土地，并不讨喜）。</p>
</blockquote>
<h5 id="4-4-中国的人文主义"><a href="#4-4-中国的人文主义" class="headerlink" title="4.4 中国的人文主义"></a>4.4 中国的人文主义</h5><blockquote>
<p>中国关于人口密集社会和家庭生活的长期经验产生了一套公认的行为规则。个人必须接受竹器和蔬菜（竹器是什么? 排斥大鱼大肉倒是好像有）的物质生活标准，这培养了俭朴美德。珍视个人的诚实，勤奋和节约。也接受佛教提倡的满足微薄的享受和克欲的美德。中国古语说“知足者常乐”。生活中特别关心礼节，个人承认社会风俗的力量并使自己屈服于这些习俗。敬老，尊崇前辈，俯首听命于家庭（个人无法对抗家族）。中国式的人文主义包括关心个人尊严的问题，“面子”是社会性的问题，“丢面子”来自行为失检，是别人看不起自己。</p>
</blockquote>
<blockquote>
<p>这一切意味着，一个人的好坏主要看他对社会福利和安定是否有贡献，个人是不受赞扬的，既不是唯一的，永存的，也不是世界中心（缺乏人道关怀）。重视个人的自我表现，很容易流于放纵和无政府主义，所以中国的传统强调社会行为。妥协，容忍，达观和幽默感（有幽默感吗？），关于人性的透彻了解，通过律己养成品格，所有这些行程了个人追求好社会所赞许的部分道德结构，使每个人在社会生活中获得动力（西方是不是就有点过分个人主义了？），这纵容了家长式统治，容许了高度的专制主义。但是由于中国社会试试照顾到人与人之间的关系和社会安宁，这种专制主义有所缓解（道德的彼此约束）。</p>
</blockquote>
<h5 id="4-5-民间教派和农民起义"><a href="#4-5-民间教派和农民起义" class="headerlink" title="4.5 民间教派和农民起义"></a>4.5 民间教派和农民起义</h5><blockquote>
<p>中国人三大类型超自然神灵。 1.祖先，2.各式各样的地方神与朝廷相似，但是属于超自然，3. 鬼灵精怪则相当于不能适应环境的人，流浪者和陌生人。民间教派可能借用了道教，摩尼教或者佛教的信条，预言大祸或者天谴降临，带有千年后赐福的思想。非法的宗教流派与三合会不同，后者虽然反朝廷，但是对社会秩序有正统思想。非法宗教派别则持有异端邪说，狂热的追求社会平均，带有破坏性和无政府主义色彩。当人民生活越来越艰难时候，民间教派可能会产生狂热，掀起暴乱。</p>
</blockquote>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://unasm.com/2019/12/15/深入理解C-11/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content>
      <meta itemprop="description" content>
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="无所欲无所忧，无心者无所求，饱食而遨游，泛若不系之舟">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2019/12/15/深入理解C-11/" itemprop="url">深入理解C++ 11</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2019-12-15T22:14:49+08:00">
                2019-12-15
              </time>
            

            

            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h4 id="1-保证稳定性和兼容性"><a href="#1-保证稳定性和兼容性" class="headerlink" title="1 保证稳定性和兼容性"></a>1 保证稳定性和兼容性</h4><h5 id="1-1-保持与C99兼容-STDCHOSTED-STDC-STDCVERSION"><a href="#1-1-保持与C99兼容-STDCHOSTED-STDC-STDCVERSION" class="headerlink" title="1.1 保持与C99兼容(STDCHOSTED_, STDC, STDCVERSION__)"></a>1.1 保持与C99兼容(<strong>STDC</strong>HOSTED_, <strong>STDC</strong>, <strong>STDC</strong>VERSION__)</h5><h6 id="1-1-1-C99中的预定义宏"><a href="#1-1-1-C99中的预定义宏" class="headerlink" title="1.1.1 C99中的预定义宏"></a>1.1.1 C99中的预定义宏</h6><h6 id="1-1-2-func预定义标识符"><a href="#1-1-2-func预定义标识符" class="headerlink" title="1.1.2 func预定义标识符"></a>1.1.2 <strong>func</strong>预定义标识符</h6><h6 id="1-1-3-Pragma操作符"><a href="#1-1-3-Pragma操作符" class="headerlink" title="1.1.3 _Pragma操作符"></a>1.1.3 _Pragma操作符</h6><h6 id="1-1-4-不定参数宏定义以及-VA-ARGS"><a href="#1-1-4-不定参数宏定义以及-VA-ARGS" class="headerlink" title="1.1.4 不定参数宏定义以及 __VA_ARGS"></a>1.1.4 不定参数宏定义以及 __VA_ARGS</h6><h6 id="1-1-5-宽窄字符串链接"><a href="#1-1-5-宽窄字符串链接" class="headerlink" title="1.1.5 宽窄字符串链接"></a>1.1.5 宽窄字符串链接</h6><h5 id="1-2-long-long-整型"><a href="#1-2-long-long-整型" class="headerlink" title="1.2 long long 整型"></a>1.2 long long 整型</h5><h5 id="1-3-扩展整型（signed-char-short-int-int-long-int-long-long-int）"><a href="#1-3-扩展整型（signed-char-short-int-int-long-int-long-long-int）" class="headerlink" title="1.3 扩展整型（signed char, short int, int, long int, long long int）"></a>1.3 扩展整型（signed char, short int, int, long int, long long int）</h5><h5 id="1-4-宏-cplusplus-用于C和C-混合编写"><a href="#1-4-宏-cplusplus-用于C和C-混合编写" class="headerlink" title="1.4 宏 __cplusplus 用于C和C++混合编写"></a>1.4 宏 __cplusplus 用于C和C++混合编写</h5><h5 id="1-5-静态断言"><a href="#1-5-静态断言" class="headerlink" title="1.5 静态断言"></a>1.5 静态断言</h5><p>  断言有助于快速定位违反了某些前提条件的程序错误, assert 只能在程序运行的时候才起作用。static_assert用于编译时候用的断言。</p>
<h5 id="1-6-noexcept-修饰符和-noexcept-操作符"><a href="#1-6-noexcept-修饰符和-noexcept-操作符" class="headerlink" title="1.6 noexcept 修饰符和 noexcept 操作符"></a>1.6 noexcept 修饰符和 noexcept 操作符</h5><p>  noexcept 表示修饰的函数不会抛出异常，如果抛出了异常，编译器直接调用std::terminate()终止运行。</p>
<h5 id="1-7-快速初始化成员变量"><a href="#1-7-快速初始化成员变量" class="headerlink" title="1.7 快速初始化成员变量"></a>1.7 快速初始化成员变量</h5><p>  C++ 11 中，标准允许非静态成员变量的多种初始化形式。具体而言，除了初始化列表之外, 还允许使用等号=或者{}进行就地的非静态成员变量的初始化, 通过花括号式的集合初始化列表。</p>
<h5 id="1-8-非静态成员的sizeof"><a href="#1-8-非静态成员的sizeof" class="headerlink" title="1.8 非静态成员的sizeof"></a>1.8 非静态成员的sizeof</h5><p>  struct People {<br>    public:<br>      int hand;<br>      static People *all;<br>  }<br>  支持 sizeof(People::hand), sizeof(People::all), sizeof((new People()).hand)</p>
<h5 id="1-9-friend-友元"><a href="#1-9-friend-友元" class="headerlink" title="1.9 friend 友元"></a>1.9 friend 友元</h5><p>  可以无视 public, protected, private的属性，友元类或者友元函数都可以访问</p>
<h5 id="1-10-final-override-控制"><a href="#1-10-final-override-控制" class="headerlink" title="1.10 final/override 控制"></a>1.10 final/override 控制</h5><p>  final 关键字用于阻止函数继续重写，使派生类不可覆盖它所修改的虚函数。<br>  如果派生类在虚函数声明时使用了virtual描述符，那么该函数就必须 override 重载基类中的同名函数，否则代码无法编译通过。</p>
<h5 id="1-11-函数模板的默认模板参数"><a href="#1-11-函数模板的默认模板参数" class="headerlink" title="1.11 函数模板的默认模板参数"></a>1.11 函数模板的默认模板参数</h5><p>  template <typename t="int"> class DefClass{}; int 就是默认参数<br>  template &lt;typename T, int i = 0&gt; class DefClass{}; int 就是默认参数<br>  为多个模板参数指定默认值时候，必须遵照从右到左的规定指定</typename></p>
<h5 id="1-12-外部模板"><a href="#1-12-外部模板" class="headerlink" title="1.12 外部模板"></a>1.12 外部模板</h5><p>  声明：extern templat void fun<int>(int), 使用extern声明，不会再实例化代码，而是引用外部的模板声明。也可以把外部模板声明放在头文件中，这样所有包含test.h的头文件中就可以共享这个外部模板声明了。就好比全局变量的定义，外部声明和使用。</int></p>
<h5 id="1-13-局部匿名类型作为模板实参"><a href="#1-13-局部匿名类型作为模板实参" class="headerlink" title="1.13 局部匿名类型作为模板实参"></a>1.13 局部匿名类型作为模板实参</h5><p>  可以使用局部的结构体，变量，匿名的结构体和变量 传递给 模板类和模板函数</p>
<h4 id="2-通用为本，专用为末"><a href="#2-通用为本，专用为末" class="headerlink" title="2. 通用为本，专用为末"></a>2. 通用为本，专用为末</h4><h5 id="2-1-继承构造函数"><a href="#2-1-继承构造函数" class="headerlink" title="2.1 继承构造函数"></a>2.1 继承构造函数</h5><p>  可以使用 using Base::Base 的方式把基类中的构造函数全部集成到派生类中。也可以通过 using Base::f 的方式，继承某一个具体的方法。在多个基类，继承构造函数冲突的时候，可以通过显示定义构造函数，阻止隐式生成响应的继承构造函数。</p>
<h5 id="2-2-委托构造函数"><a href="#2-2-委托构造函数" class="headerlink" title="2.2 委托构造函数"></a>2.2 委托构造函数</h5><p>  原则上编译器不允许构造函数中调用构造函数。 Info(char e): Info() { name = ‘e’}, 也就是说，在初始化列表中进行构造，委派。</p>
<h5 id="2-3-移动语义和完美转发-这块好trick，反正也用不到-有uniptr替代"><a href="#2-3-移动语义和完美转发-这块好trick，反正也用不到-有uniptr替代" class="headerlink" title="2.3 移动语义和完美转发(这块好trick，反正也用不到, 有uniptr替代)"></a>2.3 移动语义和完美转发(这块好trick，反正也用不到, 有uniptr替代)</h5><h6 id="2-3-1-指针成员和拷贝构造"><a href="#2-3-1-指针成员和拷贝构造" class="headerlink" title="2.3.1 指针成员和拷贝构造"></a>2.3.1 指针成员和拷贝构造</h6><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">class HasPtrMem &#123;</span><br><span class="line">  public:</span><br><span class="line">    HasPtrMem(): d(new int(0)) &#123;&#125;</span><br><span class="line">    HasPtrMem(const HasPtrMem &amp; h): d(new int(*h.d)) &#123;&#125;</span><br><span class="line">    ~HasPtrMem() &#123;</span><br><span class="line">      delete d;</span><br><span class="line">    &#125;</span><br><span class="line">    int * d;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>HashPtrMem a; HasPtrMem b(a); a.d 和 b.d 都指向了同一个内存，C++中被称为浅拷贝。</p>
<p>解决办法就是 去掉构造函数中的 const(关于这块，要继续了解const的作用, 正常操作，好像也不会加const吧)</p>
<h6 id="2-3-2-移动语义"><a href="#2-3-2-移动语义" class="headerlink" title="2.3.2 移动语义"></a>2.3.2 移动语义</h6><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">class HasPtrMem &#123;</span><br><span class="line">  public:</span><br><span class="line">  HasPtrMem(): d(new int(3)) &#123;&#125;</span><br><span class="line">  HasPtrMem(const HasPtrMem &amp;h): d(new int(*h.d)) &#123;&#125;  // 注意这里还是const，也就是还是原来的内存，并没有新new</span><br><span class="line">  HasPtrMem(HasPtrMem &amp;&amp; h) d(h.d) &#123;    // 移动构造函数</span><br><span class="line">    h.d = nullptr;                      // 将临时值的指针成员置空</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>因为移动构造完成之后，临时对象会立刻被析构，如果不改变 h.d，析构函数 会析构掉我们本来偷来的堆内存(那如果a = b的时候，也会发生移动构造吧，b的内存会被偷走，也就是说，这里其实也是坑)。</p>
<h6 id="2-3-3-左值，右值，和右值引用"><a href="#2-3-3-左值，右值，和右值引用" class="headerlink" title="2.3.3 左值，右值，和右值引用"></a>2.3.3 左值，右值，和右值引用</h6><ol>
<li>可以取地址的，有名字的，就是左值，不能取地址的，没有名字的，就是右值。</li>
<li>T &amp;&amp; a = ReturnValue(), ReturnValue 本来在返回右值之后，就将析构，而通过右值引用，有重获新生，生命周期将与a一样</li>
<li>T    b = ReturnValue(), b 只是由临时值构成的，而临时值在表示式结束之后，会多一次析构和构造的开销</li>
<li>右值引用不能绑定到任何的左值的。</li>
<li>常量左值引用是一个万能的引用类型，可以接受常量左值，非常量左值，右值进行初始化，但是其引用的右值在余生中只能是只读的。可以使用常量左值引用来减少临时变量的开销。</li>
<li>std::move的作用，把一个左值强制成为右值, Copyable news = std::move(s), 如果s中包含一些一些大块内存指针，news 就可以把内存窃为己有(s自身不可以再使用)</li>
</ol>
<h6 id="2-3-5-移动语义的一些问题"><a href="#2-3-5-移动语义的一些问题" class="headerlink" title="2.3.5 移动语义的一些问题"></a>2.3.5 移动语义的一些问题</h6><p>  通常情况下，如果需要移动语义，程序员就小自己定义移动构造函数</p>
<h6 id="2-3-6-完美转发"><a href="#2-3-6-完美转发" class="headerlink" title="2.3.6 完美转发"></a>2.3.6 完美转发</h6><p>  完美转发是指：函数模板中，完全依照模板的参数类型，将参数传递给函数模板调用的另一个函数，比如 template<typename t> void IamForwarding(T t) {IrunCodeActually(t)}, 这里产生了额外的对象拷贝，如果用常量左值(const T &amp; t)来，则可能有无法接受常量左值的函数存在<br>  template<typename t> void PerfectForward(T &amp;&amp; t) { RunCode(forward<t>(t))}</t></typename></typename></p>
<h5 id="2-4-显式转换操作符"><a href="#2-4-显式转换操作符" class="headerlink" title="2.4 显式转换操作符"></a>2.4 显式转换操作符</h5><p>  explicit 禁止隐式转换</p>
<h5 id="2-5-列表初始化"><a href="#2-5-列表初始化" class="headerlink" title="2.5 列表初始化"></a>2.5 列表初始化</h5><ol>
<li>int a[] = {1, 2,3}</li>
<li>int b[] {1, 2, 3}</li>
<li>vector<int>c {1, 2, 3}</int></li>
<li>可以通过 initializer_list使自定义的类使用列表初始化</li>
<li>POD 类型， Plain Old Data，平凡数据，默认的构造函数，析构函数，默认的拷贝构造和移动构造函数，拷贝赋值运算符和移动赋值运算符，没有虚函数和虚基类，标准布局，没有privat</li>
<li>内联名字空间 允许在父空间定义或者特化子空间名字的模板, inline 相当于 将名字空间导入到父空间中</li>
<li>可以用typedef 和 using 来定义模板和域的别名， using uint = unsigned int;</li>
</ol>
<h4 id="3-新手易学，老兵易用"><a href="#3-新手易学，老兵易用" class="headerlink" title="3 新手易学，老兵易用"></a>3 新手易学，老兵易用</h4><h5 id="3-1-右尖括号-gt-的改进"><a href="#3-1-右尖括号-gt-的改进" class="headerlink" title="3.1 右尖括号 &gt; 的改进"></a>3.1 右尖括号 &gt; 的改进</h5><p>  C++98中，如果实例化模板的时候，出现了连续两个 &gt;， 中间应该用空格隔开，以免编译错误，C++ 11 会要求编译器智能的判断哪些情况下&gt;&gt;不是右移符号。 X&lt; 1&gt;&gt; 5&gt;x, C++98中， 会认为 &gt;&gt; 是位移符号，最终得到 X&lt;0&gt;x, 而在C++ 11中会得到一个编译错误的警告，将第一个&gt; 与 X之后的&lt;匹配， 可以通过将 1 &gt;&gt; 5括起来</p>
<h5 id="3-2-auto类型推导"><a href="#3-2-auto类型推导" class="headerlink" title="3.2 auto类型推导"></a>3.2 auto类型推导</h5><p>  auto声明变量的类型，必须由编译器在编译时期推导而得，可以将复杂的变量声明简化，增加可读性（存疑，理解代码时候，需要自己推导类型），能够自适应，一定程度上支持泛型的编程。</p>
<ol>
<li>auto 并不能从初始表达式中保留CV限制符</li>
<li>auto 并不能作为形参</li>
<li>auto i = 1, j = 4.13f, 编译失败， auto 从左到右推导 i 为int 所以j 也定义为int，标准称：auto是将要被推导出的类型的占位符。</li>
<li>对结构体来说，非静态成员的类型不能是auto，不能声明auto 数组</li>
<li>不能实例化时候，使用auto作为模板参数 </li>
</ol>
<h5 id="3-3-typeid-与-decltype"><a href="#3-3-typeid-与-decltype" class="headerlink" title="3.3 typeid 与 decltype"></a>3.3 typeid 与 decltype</h5><h6 id="3-3-1-RTTI，运行时类型识别"><a href="#3-3-1-RTTI，运行时类型识别" class="headerlink" title="3.3.1 RTTI，运行时类型识别"></a>3.3.1 RTTI，运行时类型识别</h6><p>  在C++11中，增加了 hash_code,返回该类型唯一的哈希值，以供程序员对变量的类型随时进行比较。（(typeid(a).hash_code() == typeid(c).hash_code())，RTTI会带来运行时的开销，所以一些编译器会选择性的关闭该特性。</p>
<h6 id="3-3-3-decltype-推导四原则"><a href="#3-3-3-decltype-推导四原则" class="headerlink" title="3.3.3 decltype 推导四原则"></a>3.3.3 decltype 推导四原则</h6><ol>
<li>如果e是一个没带括号的标记符表达式，或者类成员访问表达式，那么decltype(e) 就是e所命名的实体的类型，如果e是一个被重载的函数，会导致编译时错误</li>
<li>如果e的类型是T，如果e是一个讲亡值，那么decltype(e)为T&amp;&amp;</li>
<li>如果e的类型是T，如果e是一个左值，则decltype(e)为T&amp;</li>
<li>如果e的类型是T，则decltype(e)为T<h6 id="3-3-4-如果对象的定义中有const或者volatile限制符，使用decltype进行推导时，其成员（结构体内部变量）不会继承const或volatile限制符"><a href="#3-3-4-如果对象的定义中有const或者volatile限制符，使用decltype进行推导时，其成员（结构体内部变量）不会继承const或volatile限制符" class="headerlink" title="3.3.4 如果对象的定义中有const或者volatile限制符，使用decltype进行推导时，其成员（结构体内部变量）不会继承const或volatile限制符"></a>3.3.4 如果对象的定义中有const或者volatile限制符，使用decltype进行推导时，其成员（结构体内部变量）不会继承const或volatile限制符</h6><h6 id="3-5-基于范围的for循环"><a href="#3-5-基于范围的for循环" class="headerlink" title="3.5 基于范围的for循环"></a>3.5 基于范围的for循环</h6>for_each(arr, arr + sizeof(arr) / sizeof(arr[0]), action1)<br>for (int &amp; a: arr) {}<br>如果迭代变量在循环中不会被修改，完全可以不用引用的方式来做迭代变量</li>
</ol>
<h4 id="4-提高类型安全"><a href="#4-提高类型安全" class="headerlink" title="4.  提高类型安全"></a>4.  提高类型安全</h4><h5 id="4-1-强枚举类型-enum-class-Type"><a href="#4-1-强枚举类型-enum-class-Type" class="headerlink" title="4.1 强枚举类型 enum class Type"></a>4.1 强枚举类型 enum class Type</h5><ol>
<li>强作用域，不会被输出到父空间作用域</li>
<li>转换限制，不可以与整型隐式的互相转换</li>
</ol>
<h5 id="4-2-智能指针和垃圾回收"><a href="#4-2-智能指针和垃圾回收" class="headerlink" title="4.2 智能指针和垃圾回收"></a>4.2 智能指针和垃圾回收</h5><ol>
<li>unique_ptr 与所指对象的内存紧密绑定，不能与其他unique_ptr类型的指针共享所指的内存，所有权仅能通过move来转移，一旦转移成功，原来的unique_ptr就失去了对象内存的所有权。</li>
<li>shared_ptr 允许多个智能指针共享的拥有同一内存， 调用reset只会降低引用计数，而不会释放，只有在引用计数为0的时候，才会释放所占的堆内存的空间。</li>
<li>weak_ptr 可以指向shared_ptr指针所指向内存，而不拥有该内存，使用lock可以返回其指向内存的shared_ptr对象，如果堆存对象无效的时候，返回空指针。</li>
</ol>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://unasm.com/2019/12/01/亲密关系/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content>
      <meta itemprop="description" content>
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="无所欲无所忧，无心者无所求，饱食而遨游，泛若不系之舟">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2019/12/01/亲密关系/" itemprop="url">亲密关系</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2019-12-01T20:31:15+08:00">
                2019-12-01
              </time>
            

            

            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p>确实值得推荐的一本书，这本书科学的分析了男女在方方面面的不同，对常见的问题，观点进行了科学细致的总结，并有很多中肯的建议。</p>
<h4 id="人际关系的构成"><a href="#人际关系的构成" class="headerlink" title="人际关系的构成"></a>人际关系的构成</h4><h5 id="1-亲密关系中人有归属的需要。"><a href="#1-亲密关系中人有归属的需要。" class="headerlink" title="1. 亲密关系中人有归属的需要。"></a>1. 亲密关系中人有归属的需要。</h5><p>如果归属的需要无法得到满足，会发生各种各样的问题。个体需要的亲密关系无需太多，几个即可。归属需要得到满足之后，与其他人建立人际关系的内驱力就会小很多，只要能持续得到关爱和包容，归属感就能得到满足。一个可能的解释是：归属需要是长期演化的产物，成为人的自然倾向。</p>
<h5 id="2-四种依恋类型"><a href="#2-四种依恋类型" class="headerlink" title="2. 四种依恋类型"></a>2. 四种依恋类型</h5><pre><code>2.1. 安全型：在感情上很容易接近他人，不会忧心独处和不为人接纳（我）
2.2. 痴迷型：希望在亲密关系中投入全部的感情，但是经常发现他人并不乐意把关系发展到自己期望的那般亲密。没有亲密关系会不安，还担心伴侣不会想我看中他一样看中我（如我父亲）
2.3. 恐惧型：和他人亲密接触使我不安，感情上渴望亲密关系，但是很难完全相信或者依赖别人，担心自己会受伤
2.4. 疏离型：没有亲密关系和安心，独立和自给自足很重要，不喜欢依赖别人，或者让人依赖（妙玉？）。</code></pre><p>3，4两种属于回避型。</p>
<h5 id="3-刻板印象夸大了男女在兴趣，风格，能力上的差异。"><a href="#3-刻板印象夸大了男女在兴趣，风格，能力上的差异。" class="headerlink" title="3. 刻板印象夸大了男女在兴趣，风格，能力上的差异。"></a>3. 刻板印象夸大了男女在兴趣，风格，能力上的差异。</h5><p>从统计情况来看，1. 两性差异确实存在，但是非常小。2. 男人或女人性别内的行为和观点差异远大于两性之间的平均差异。3. 两性的行为和观点正态分布上重合非常大。</p>
<h5 id="4-性认同差异"><a href="#4-性认同差异" class="headerlink" title="4. 性认同差异"></a>4. 性认同差异</h5><p>&nbsp;&nbsp;&nbsp;&nbsp;遗传在决定人们的自信和友善倾向时，只起到四分之一或者三分之一的作用，大部分行为都是后天习得。<br>&nbsp;&nbsp;&nbsp;&nbsp;与任务相关的“男子气”的才能称为“工具性”特质，把社交情感有关的“女人味”技能称为“表达性”特质。表达性低的人不太容易付出热情和温柔，也不怎么充满深情，长期来看，与表达性低低配偶结婚就不如与更敏感贴心和友善低人过的满意。另一方面，低工具性的人往往不如高工具性的人自尊程度高和适应能力强（适应能力强的，不应该才更容易宽容和放低姿态么）。<br>&nbsp;&nbsp;&nbsp;&nbsp;人是高度社会化的动物，如果他人不喜欢我们，我们要喜欢自己非常困难。低自尊低人有时会低估伴侣对他们对爱，从而损害亲密关系，还觉知到根本就不存在到漠视。自我评价低到人很难相信伴侣真的深爱自己，往往对爱情能否持续不乐观，又使他们对伴侣偶尔的糟糕情绪反应过度，防御性的把自己隔离起来，生闷气，乱搞一通，还觉得自己更加糟糕。<br>&nbsp;&nbsp;&nbsp;&nbsp;演化学认为，女性在选择伴侣时，比男性谨慎的多，男性则不会这么苛刻。男人比女人更渴望短期性关系。更嗜好与多个伴侣保持风流关系。然而男人想结婚安顿下来则偏好贞洁的女人。在长期关系中比女人更看重外表。女人选择短期伙伴时候，更看重性感，强势，有魅力等。评价有潜力的丈夫时，都把经济前景当作首选。</p>
<h4 id="2-研究方法"><a href="#2-研究方法" class="headerlink" title="2. 研究方法"></a>2. 研究方法</h4><p>&nbsp;&nbsp;&nbsp;&nbsp;亚里士多德认为人是社会动物，并认为有三种不同的友谊</p>
<pre><code>1. 建立在功利基础上的友谊
2. 建立在快乐基础上的友谊
3. 建立在美德基础上的友谊</code></pre><p>&nbsp;&nbsp;&nbsp;&nbsp;如果有人发出实际的邀请，男性比女性更容易接受陌生人的性邀请。</p>
<h4 id="3-吸引力"><a href="#3-吸引力" class="headerlink" title="3. 吸引力"></a>3. 吸引力</h4><p>吸引的几种模式 1. 互补性，2. 喜欢相似的人，3. 仰慕<br>&nbsp;&nbsp;&nbsp;&nbsp;人与人之间产生吸引力最基本的假设是：他人出现对我们有奖赏意义。影响吸引力的奖赏有两种类型，直接奖赏和间接奖赏。直接奖励：如果他人给我们大量的兴趣和赞许，我们会对这种关注和接纳感到非常高兴。如果他人能给我们金钱和地位，我们会更乐意接受这些好处。<br>&nbsp;&nbsp;&nbsp;&nbsp;相似产生吸引力。1. 人会觉得年龄，种族，教育程度，宗教信仰和社会地位等人口统计上的相像。2. 态度和价值的相像。3. 伴侣还可能有着相似的性格。<br>&nbsp;&nbsp;&nbsp;&nbsp;大多数人都更喜欢自己。吸引力的确与我们认知到的他人具有的吸引力特质有关，也还取决于我们的需要，偏好，愿望和所处的情境。人更容易喜欢周围的人，频繁的与人接触不仅能使交往更方便，还会是你让对方觉得更有吸引力。文字和声音中表达的爱意不如脸颊的一吻更打动人。遥远的伴侣一起生活三个月之后，大约有三分之一分手了。<br>&nbsp;&nbsp;&nbsp;&nbsp;人认为外貌俊美的人更讨人喜欢，更好相处。男性英俊但是贫穷对女性则不那么有吸引力。<br>&nbsp;&nbsp;&nbsp;&nbsp;自我监控能力高的人热衷于调整自己的行为一边给人留下好印象。相反，自我监控能力弱的人则尽力恪守自己的信念和愿望。<br>&nbsp;&nbsp;&nbsp;&nbsp;确定爱情关系的伴侣，双方在吸引力上是非常接近。亲密关系越正规严肃，投入程度越多，匹配程度就越明显。名望财富健康才能长相等都像商品一样能用来吸引自己的伴侣，是吸引力的一部分。人们似乎注意到别人接纳和喜欢自己的可能性，更可能与那些愿意接纳而不是拒绝自己的人接近。女人如果确实拥有很高的社会地位，会更加喜欢资源丰富，强势彪悍的男人。<br>&nbsp;&nbsp;&nbsp;&nbsp;故作幽默或轻浮的一句话，可能是最糟糕的开场白。简单的问好不显得做作或者鲁莽，是最聪明的搭讪方法。<br>&nbsp;&nbsp;&nbsp;&nbsp;两个人相识之后，需要一段时间充分了解彼此的共同点和差异，我们会期望对方具有和我们相似的态度和价值观。某种程度上，人们似乎是和幻想中的伴侣结婚，他们爱上的一种人，确认为自己的伴侣就是这种人。</p>
<h4 id="4-社会认知"><a href="#4-社会认知" class="headerlink" title="4. 社会认知"></a>4. 社会认知</h4><h5 id="4-1-伴侣的理想化"><a href="#4-1-伴侣的理想化" class="headerlink" title="4.1 伴侣的理想化"></a>4.1 伴侣的理想化</h5><p>&nbsp;&nbsp;&nbsp;&nbsp;保护自己免遭幻想破灭的聪明办法是：不断调整自己对理想伴侣的期望，某种程度上，人能随心所欲决定自己伴侣已拥有的品质正是自己的期待的，伴侣一般也清楚我们在美化他们，作为回报，我们也从伴侣那得到积极善意的认知评价（也有自我实现的因素？）。</p>
<h5 id="4-2-归因过程"><a href="#4-2-归因过程" class="headerlink" title="4.2 归因过程"></a>4.2 归因过程</h5><pre><code>4.2.1. 尽管伴侣之间有着深入了解，仍收到强烈的观察者效应。对自己行为的解释，和伴侣对类似行为的解释完全两样。最保险的策略是在心里这样假定：即使是最亲密的伴侣也很少真正理想你行为的原因。
4.2.2. 尽管伴侣间存在真爱，也可能出现自利偏差。成功归于自己，推卸失败的责任。人可以估计到他人的自利偏差，而看不到自己也有偏差。人会习惯性的作出自利的解释。
4.2.3 幸福的爱人对伴侣行为的归因都是能改善关系的，认为伴侣的积极行动都是刻意的，习惯的，还能据此推断伴侣其他情境下的行为，也倾向于淡化彼此的过失，认为是偶然的，特殊的，局部的，从而得到谅解。不幸的伴侣则认为伴侣的负面行动都是故意的，习惯的，正面行动是无心的。安全型的人倾向于宽容的采用改善关系的归因，而不安全的人则更悲观。高忧虑被弃的人更容易责备伴侣的不当行为，而回避型的人，对伴侣的体贴行为根本不放心上。</code></pre><h5 id="4-3-记忆"><a href="#4-3-记忆" class="headerlink" title="4.3 记忆"></a>4.3 记忆</h5><p>&nbsp;&nbsp;&nbsp;&nbsp;心理学家用重构性记忆来描述随着新信息的获取不断的修订和改写记忆。伴侣目前的感情影响共同往事的回忆。如果幸福，倾向于忘记过去的不快，如果痛苦，则低估过去的幸福和情谊。好的一面是，满意的爱人会记得过去发生的问题，但是最近都得到了改善，所以比过去更幸福。陷入危机的夫妻回忆则更多是混乱和失落。</p>
<h5 id="4-4-关系信念"><a href="#4-4-关系信念" class="headerlink" title="4.4 关系信念"></a>4.4 关系信念</h5><pre><code>4.4.1   争吵具有破坏性--争吵就表明伴侣爱自己还不够深，如果彼此深深相爱，就不会发生任何争执
4.4.2   “读心术”很重要--真正彼此关爱的伴侣仅凭直觉就能知道对方的需要和偏好。如果必须告诉对方自己的想法和愿望，说明伴侣爱自己不够深
4.4.3   伴侣是不会发生变化的--一旦亲密关系变糟，就无法得到改善，如果爱人曾伤害自己，就还会一再伤害
4.4.4   每一次的性生活都应该是完美的--只要爱情是忠贞的，每一次的性生活都应该是令人满足的。伴侣应该经常渴望并为性生活做好准备
4.4.5   男人和女人就是不一样--男人和女人的性格和需要非常不同，很难真正理解对方
4.4.6   美好姻缘天注定--根本无需努力维护美满的夫妻关系。夫妻要不彼此脾性相投，快乐到老，要不格格不入，争执一生。</code></pre><p>&nbsp;&nbsp;&nbsp;&nbsp;要警惕以上六个观点。当出现问题时，持有这些观念的人不会采取建设性的行动来改善关系。相信爱情天注定，就不会去解决问题，只是逃避问题，更愿意结束不幸福的关系，而不是努力去修复亲密关系。<br>&nbsp;&nbsp;&nbsp;&nbsp;浪漫的情侣比不浪漫的情侣体验到更多的爱意，满足和忠诚，但是现实中的亲密关系，很难满足浪漫主义的期望。</p>
<h5 id="4-4-期望"><a href="#4-4-期望" class="headerlink" title="4.4 期望"></a>4.4 期望</h5><p>&nbsp;&nbsp;&nbsp;&nbsp;关系信念对亲密关系性质的设想，即使是错误的，也会延续下去。人期望他人作出特殊行为，即使这些期望是错误的，后来却能变成现实。这就是自我实现的预言。对他人的期望会引导我们对他人作出的行为，具有促进作用。长期对他人持有不同的期望会逐渐创造出不同的社会环境。忧虑被人拒绝的人往往更可能遭人拒绝。相信自己能克服困难的期望会显得信心十足，也让问题更容易处理。</p>
<h5 id="4-5-自我认知"><a href="#4-5-自我认知" class="headerlink" title="4.5 自我认知"></a>4.5 自我认知</h5><p>&nbsp;&nbsp;&nbsp;&nbsp;人们不会愿意和与自己看法有争执的人住在一起，每天面对矛盾的观点会让人身心疲倦，厌恶透顶。<br>&nbsp;&nbsp;&nbsp;&nbsp;从自己非常熟悉的人那里得到来过分称赞的评价，会让自己不安，并认为对方很虚伪。</p>
<h5 id="4-6-印象管理"><a href="#4-6-印象管理" class="headerlink" title="4.6 印象管理"></a>4.6 印象管理</h5><p>亲密关系之间的印象管理有三个特点。<br>    4.6.1   尽管给好友或者恋人的印象比熟人或陌生人更为重要，但是我们在前者花的时间不如后者。<br>    4.6.2   亲密关系确定之后，人们会费心为自己好友营造讨人喜欢的公共形象，尽可能美化好友形象。<br>    4.6.3   会把他们的亲密关系以某种特殊形象呈现给别人。<br>自我监控能力高的人通常能快速转变形象适应不同的人群，周围有很多专家朋友，而监控能力弱的人的朋友屈指可数且大多相似(我？前者？)。</p>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://unasm.com/2019/11/12/新结构经济学/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content>
      <meta itemprop="description" content>
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="无所欲无所忧，无心者无所求，饱食而遨游，泛若不系之舟">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2019/11/12/新结构经济学/" itemprop="url">新结构经济学</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2019-11-12T00:03:44+08:00">
                2019-11-12
              </time>
            

            

            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p>林毅夫，堪称一代传奇，听说他在国内贡献很大，影响很大，所以就决定看下他的作品和主张，《新结构经济学》，我觉得凭着他的这套主张，确实有资格成为非常非常有影响力的经济学家。</p>
<p>新结构经济学，主要探讨的是一个国家在发展自己经济的时候，应该如何甄别选择行业，如何扶持，一步步之间如何发展和升级，政商之间应该承担哪些责任。他提出的《增长甄别与因势利导框架》（GIFF）应该可以作为整本书的思想核心。</p>
<ol>
<li>发展中国家的政府可以确定一份贸易商品和服务的清单。这些商品和服务应满足以下条件： 在具有与本国相似要素禀赋结构，且人均收入高于本国约100%-200%的高速增长国家中，这些商品和服务的生产已超过20年。</li>
<li>在该清单的产业中间，政府可以优先考虑那些国内私人企业已自发地进入的产业，并设法确定：（1）这些企业提升其产品质量的障碍(所有主政一方的人大概都需要了解吧)；或者说（2）组织其他企业进入该产业的障碍。这些可以通过各种方法的组合来做到，例如价值链分析，或者Hausmann提出的增长诊断框架。然后政府采取措施来消除这些约束，并运用随机对照实验来测试这一过程的影响，以确保这些政策推广到国家层面的有效性。</li>
<li>对国内企业来说，清单上的某些产业可能是全新的产业，或是很少从事出口的企业。这种情况下，政府可以采取特定措施，鼓励在第一步中确定的高收入国家的企业来本国投资这些产业，以利用本国劳动力成本低的优势。政府还可以设立孵化计划，扶持国内私人企业进入该行业。</li>
<li>除了第一步中的贸易商品和服务清单确定的产业外，发展中国家的规模还应密切关注本国成功实现自我发现的其他私人企业，并且为这些产业扩大规模提供帮助。</li>
<li>在基础设置落后，商业环境欠佳的发展中国家中，政府可投资于工业园区或者出口加工区，并且作出必要的改进，以吸引可能愿意投资于目标产业的国内私人企业或者外国产业，对基础设施和商业环境的改善可以降低交易成本，素锦产业发展。然而，由于预算约束和能力有限，大多数政府无法在合理的时间内为整个产业作出理想的改进。因此，集中于改善工业园区或者出口加工区的基础设施和商业环境，就成为一个更易于实现的选择。工业园区和出口加工区还有鼓励产业的聚集优越感。</li>
<li>政府可以在第一步确定的产业清单中的国内驱动企业或者国外投资人提供激励，以补偿他们的投资所创造的非竞争性公共知识。这类措施应有时间的限制和财务成本限制。激励可以是一段时间内的企业所得税减免，或者是对合作投资的直接优惠，或是获取外汇的优先权，激励不应该也不需要以垄断租金，高关税或者其他扭曲的形式出现。寻租和政治捕获的风险可以由此避免。对于在第四步里通过自身努力成功发现新产业的企业，政府可以采取措施以认可他们对国家经济发展的贡献。</li>
</ol>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://unasm.com/2019/10/26/金融战败/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content>
      <meta itemprop="description" content>
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="无所欲无所忧，无心者无所求，饱食而遨游，泛若不系之舟">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2019/10/26/金融战败/" itemprop="url">金融战败</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2019-10-26T21:41:08+08:00">
                2019-10-26
              </time>
            

            

            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p>这本书是日本作家吉川元中的书，介绍了日本广场协议前后的情况，我对那段历史很感兴趣，看之前，我觉得如果贸易战战败的话，中国大概就是日本的样子，所谓失落的十年，不过，看着看着，我觉得不太一样, 莱特希泽的一架纸飞机直接击溃了日本，从此予取予求，中国嘛，至少在节节抵抗。</p>
<p>冷战期间，为了维持美元的强势地位(这就是美联储的目标？？里根和沃尔克在唱和？？)，成就强大美国的形象， 以及货币主义者自由理论的影响，美国国债利率居高不下，大量的日元涌入购买国债（参见美联储1980-1984年的政策，不过沃尔克号称只是抑制通货膨胀），成为美元价值最有力的支撑。</p>
<p>经济繁荣无法掩盖贸易赤字，强势美元造就了企业的衰败，1985年9月，冷战相对缓和，为了解决贸易不平衡问题，五国财长达成了著名的广场协议，美元开始下调汇率贬值，1美元/240日元预期下调到1美元/200日元，然而现实是到1987年2月七国财长会议之后，到了1美元/150日元才告一段落。</p>
<p>然而贸易不均衡并没有得到很好到改善，美元贬值给非耐用性工业原材料带来了直接的好处，比如纸浆，一次性金属，化学品，纺织品，橡胶等。然而1989年之后，这些企业的出口又开始下降。而进口抑制有增无减，美国出口增加有限原因有几点， 1. 形成萎缩条件的未来不确定性，今天贬值，说不定什么时候升值， 2. 必需的人力，资金资源能否确保，3. 必需的技术水平能否确保。 这几点造就了汇率对贸易的影响不会很快有结果（简单来说，就是他们国家就不生产了，一时半会也不能开工，如果保有相关产业，可能影响就更大一些）。</p>
<p>美元的跌幅大大超出预期给日本企业带来严重损失，持有资产骤减40%，为了购买美国国债，日本企业经常用短期借贷的资金购买长期国债，由此带来现金流风险，同时贬值页也带来了巨大的亏损（这些企业真惨，国际利差赚不得），美国则大大减轻了债务压力，顺利实现经济的软着陆，自己一身轻松，太不地道了。</p>
<p>五国财长的协议，日本最惨，是有原因的。日本积极协助美国压力汇率，并且不无得意， 1986年美元大幅度贬值，日本美国利差相差已经不大，日本资金依旧大量购买美国国债，1987年，汇率达到了1美元/120日元，日本资金对美还流终于短暂下降，1988年，1989年又回复如初。据说原因1是大藏省的鼓励或者暗示，原因2是因为泡沫的虚假繁荣。&lt;美元在不断的贬值，却还在不断的购买，中国目前也有类似的举动，是为了实现利益的深度绑定，从而维持自身的安全么？纵容美国的剥削？？但是日本有这种顾虑么？还是政治上的压力？&gt;</p>
<p>1987年之后，日本利率调整到了2.5%的超低水平，长久的低利率政策，加之为了控制日元升值，日本中央银行大量买入美元卖出日元导致日元供给过剩，过剩的货币被吸引到了房地产和股票市场，形成泡沫（中国股市低迷，我应该开心么？比起来投资股票房地产，购买美债看起来还更靠谱了，不过干嘛不购买英镑马克黄金呢？如果那个时间买入英镑避险，等市场崩溃，资产贬值，再回来收割是不是可以人生巅峰。热钱四溢，出逃才是王道，恭喜美国双杀）</p>
<p>1987格林斯潘就任美联储主席，美国独自开始提高利率到5.5%～6%。由此引发了黑色星期一华尔街崩盘，日本为了提振市场大举买入。其他国家如联邦德国只是稍微下调了利率，并且于1988年7月调整了上调利率，选择了和美元脱钩。当时的日本丧失了思考。</p>
<p>日本于1988年开始投资美国的地产，并且大批购买写字楼，宾馆，由此引发了美国的舆论反感，美国开始在银行层面抑制日本，日本的国际融资比例大幅下降。1990年之后近乎于0.</p>
<p>面对日本极高的房价和股票市场，美国和日本达成《结构协议》，强化了公司间相互持股的限制，为瓦解公司股价奠定了条件，同时鼓吹提高生活质量，增加土地供应，降低房价，对已经放出了巨量贷款的金融机构造成了致命的打击，造成了大量的不良债权，很多民众由此家庭破碎。土地调整的正常界限应该是最高价格的20%-30%，不至于产生不良债券，民众如果仍不满，还可以在经济增长中将高出的部分抵消掉。然而现实是跌破了50%以下，进入了不可收拾的局面。</p>
<p>1992年美国经济开始回复，1994年GDP增长率达到3.5%（以邻为壑）, 日本经济则不景气，不良债权问题严重，劳动力成本上升，而且因为日元升值导致进口价格降低，开始通货膨胀，国内制造业难以生存.</p>
<p>1995年，沙特科威特等石油国终于无法容忍美元暴跌，墨西哥再度爆发资金外逃趋势，美国被迫援助，这种情况下，克林顿发起日元升值行动，威胁启用301条款制裁， 进入了美元升值，日元贬值的局面。缓慢流入美国的日本资金再度呈现激增的态势，美国以此弥补了收支赤字，并用剩余资金大举海外投资，重现80年代辉煌。而日本机构和民间则无法容忍超低利率，大肆购买美国的股票和证券。美国发动的亚洲金融危机，则打散了日本在亚洲国家的投资，得以继续想用日本的超低利率。</p>
<p>70年代，国际上不止日本打算推动本国对外资本输出（一带一路是必然喽？），一般来说，资本输入国到资本输出国，以该国货币举债，于是资本输入国则吸收了输出国多余的外汇储备，最终该国形成国际金融中心(中国会形成金融中心么？金融正在开放，正在向这个趋势发展？)。但是在日本举债成本高，日本的公司债注册制度成为阻碍。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">尽管改革严格的外汇管理体制，取消金融的封闭自收不失为长期有效的国策，但却意味着日本的金融机构丧失既得利益，日本的大藏省会因此丧失在金融界中的影响力</span><br></pre></td></tr></table></figure>

<p>（无语，改革就会丧失影响力，政府是吃软饭的么？这就是自由的味道么？）</p>
<p>总的来说日本成为债权国时，未能建立起与之相适应的金融经济结构，过分忠于(??)华尔街，以至于形成泡沫，之后又在处理措施上失误(不好说哦，也许是没办法呢)导致了悲剧。美国则靠着日本过上了肥美滋润的日子，度过了冷战之后，强势美元之后的困难阶段，经济重新进入良性循环。</p>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://unasm.com/2019/10/26/读货币战争有感/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content>
      <meta itemprop="description" content>
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="无所欲无所忧，无心者无所求，饱食而遨游，泛若不系之舟">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2019/10/26/读货币战争有感/" itemprop="url">读货币战争有感</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2019-10-26T11:22:30+08:00">
                2019-10-26
              </time>
            

            

            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p>看到电脑里面有这本书，很久以前似乎有人推荐过，就打开看了，200页，闲书，两天就看完了。</p>
<p>我并不喜欢这本书，或者说，我并不喜欢阴谋论，尤其我不喜欢最后关于黄金的看法，后来在网上看，嗯，看到大家都在骂他我就放心了。阴谋论……就像羽毛球，一招一式皆有法度，有的就是我能做到而你做不到，做好做不好。</p>
<p>凯恩斯的通论，就其基本理念来说，在我看来是不可动摇的，差不多是现在政府施政的基本理念了，还有把黄金说的就像这个世界的救世主一样，法币就是世界的阴谋…., 通货紧缩是比通货膨胀更可怕的敌人，好吧。</p>
<p>不过，如果说这本书有什么可取之处，那就是关于关于石油的那段阴谋喽，石油涨价400%，由此一举奠定了石油美元的地位，顺便收割东南亚各国。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">这个计划最出彩的地方就是“嫁祸于人”，煽动埃及和叙利亚进攻以色列，美国再公开支持以色列来激怒阿拉伯人，最后阿拉伯国家一怒之下对西方国家实施石油禁运，石油价格一飞冲天，而全世界的怒气则全部发泄到阿拉伯国家身上，银行家们一面坐山观虎斗，一面清点着石油美元回流的钞票，一举挽回美元颓势，重夺金融战场主动权，顺手牵羊剪割拉美印尼等国。</span><br><span class="line"></span><br><span class="line">石油价格暴涨使得拉美印尼国家的大量资金被高油价所吞噬，发展中国家要不停止工业化进程，无法偿还世界银行的过量贷款，要不就得向世界银行借更多的钱来购买石油和偿还巨额债务的本息。而世界银行的援助条件则是著名的“IMF四副良药”，国家核心资产私有化，资本市场自由化，生活要素市场市场化，自由贸易国家化，大部分国家喝下这几幅药非死即伤。</span><br></pre></td></tr></table></figure>

<p>不知道是不是真的，反正以色列是美国的跟班，以色列和阿拉伯世界的战争要是跟美国没有关系，我也不会信吧。美国与沙特深度结盟，进而打垮欧佩克，亚洲金融危机也是美国人搅动的，进而大赚特赚，韩国泰国近乎破产, 丧权辱国。</p>
<p>人为刀俎，这也是人家的权利吧。</p>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://unasm.com/2019/10/21/摆脱贫穷/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content>
      <meta itemprop="description" content>
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="无所欲无所忧，无心者无所求，饱食而遨游，泛若不系之舟">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2019/10/21/摆脱贫穷/" itemprop="url">摆脱贫困</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2019-10-21T22:47:33+08:00">
                2019-10-21
              </time>
            

            

            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p>这是习近平于1992年出的一本书，记载了自己在闽东执政期间的一些理念和措施。</p>
<p>习近平还有另一本书，叫《习近平谈治国理政》，我对这本书并不感冒，大的口号并没有意义，见微知著, 魔鬼在细节，能掌控到什么地步，才是关键。</p>
<p>主要感觉有几点，1：实事求是，因地施政，2. 敬畏群众力量, 为人民服务。</p>
<p>实事求是，他一到地方，就各地去走访，边调查边思考，很有意思哈，有点像我买房子，没有调查就没有发言权，只有实地去感受，去谈去问才能有更贴切的结论，然后基于现实去调整政策，比如本地有什么特色啦，具体怎么做，发动力量想办法。最近有一篇文章，说扶贫形式主义，well，形式主义也好，至少还有人去传播这种理念，先富的，有资源的至少有尝试着去帮助贫穷的人。我不好评论在闽东的政治怎么，至少，我能感觉到脚踏实地去想办法。</p>
<p>为人民服务这句话在书里面，不止一次提到，扶贫也基本是贯穿整本书，也谈了不少廉政，宣传等工作，也是为了发动群众力量，所以不管执行的结果怎么样，在他的心里，这确实很重要吧。</p>
<p>我听说有人黑他学历不够，基础教育不深，我只能说，这真是为黑而黑了，书里的旁征博引，让我这河南读书考上985的学生都汗颜，没几个人能写出来这种文章的，好吧，何况还是1992年之前的他。</p>
<p>我其实很好奇，西方的治国理政理念是什么？像小丑一样的选举制度？每四年一次的政策大清洗？找一个商人或者律师来领导国家, 演员当市长？？可能我读的真正比较细的治国的书，就是《美联储》了，我觉得美联储太简单粗暴了，即便是经济学大家的理论，一刀切也过于简单粗暴了，如果说美联储是一个一次函数，中国就是一个神经网络了，在一个大理念之下的各种因地制宜。 不过，我也听说美国有政务和事务两套系统，了解有限。</p>
<p>总的来说，继续看好中国, 同时期待继续加深对西方的了解。</p>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://unasm.com/2019/09/28/祖传代码/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content>
      <meta itemprop="description" content>
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="无所欲无所忧，无心者无所求，饱食而遨游，泛若不系之舟">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2019/09/28/祖传代码/" itemprop="url">祖传代码</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2019-09-28T18:47:48+08:00">
                2019-09-28
              </time>
            

            

            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p>这是一份可以传给我孙子的代码，记录了libevent事件调度和socket网络编程中端口监听的部分</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br></pre></td><td class="code"><pre><span class="line">#include&lt;iostream&gt;</span><br><span class="line">#include&lt;unordered_map&gt;</span><br><span class="line">#include&lt;functional&gt;</span><br><span class="line">#ifndef RPC_FRAMEWORK_HEAD</span><br><span class="line">#define RPC_FRAMEWORK_HEAD</span><br><span class="line">#include &quot;rpc_framework.h&quot;</span><br><span class="line">#endif</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">struct HttpServiceHandler &#123;</span><br><span class="line">    ServiceConfig serviceConfig;</span><br><span class="line">    std::unordered_map&lt;std::string, std::function&lt;void(std::string &amp;, ServiceConfig &amp;, std::string &amp;, std::vector&lt;uint8_t&gt; *, HttpResponse *)&gt;&gt; actionMap;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">struct HttpServerData &#123;</span><br><span class="line">    std::unordered_map&lt;ServiceConfig, HttpServiceHandler&gt; *serviceHandlermap;</span><br><span class="line">    std::string *httpContext;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">class TransferServer</span><br><span class="line">&#123;</span><br><span class="line">    public:</span><br><span class="line">        virtual void start()=0;</span><br><span class="line">        virtual void stop()=0;</span><br><span class="line">        template&lt;typename T, typename... Args&gt;</span><br><span class="line"></span><br><span class="line">        void addMethod(MethodInvoker&lt;T, Args...&gt; &amp;methodInvoker) &#123;</span><br><span class="line"></span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        template&lt;typename T&gt;</span><br><span class="line"></span><br><span class="line">        void addMethod(MethodInvoker&lt;T, void&gt; &amp;methodInvoker) &#123;</span><br><span class="line"></span><br><span class="line">        &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">class HttpTransferServer : public TransferServer</span><br><span class="line">&#123;</span><br><span class="line">    public:</span><br><span class="line">        HttpTransferServer(int serverPort): serverPort(serverPort)&#123;&#125;;</span><br><span class="line">        HttpTransferServer(int serverPort, const std::string &amp;httpContext): serverPort(serverPort), httpContext(httpContext) &#123;&#125;;</span><br><span class="line">        /**</span><br><span class="line">         * 析构函数</span><br><span class="line">         */</span><br><span class="line">        ~HttpTransferServer() &#123;</span><br><span class="line">            // evhttp_free(http)</span><br><span class="line">            // event_base_free(base)</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    int bindSocket() &#123;</span><br><span class="line">        int r;</span><br><span class="line">        int nfd;</span><br><span class="line"></span><br><span class="line">        nfd = socket(AF_INET, SOCK_STREAM, 0);</span><br><span class="line">        if (nfd &lt; 0) &#123;</span><br><span class="line">            return -1;</span><br><span class="line">        &#125;</span><br><span class="line">        int one = 1;</span><br><span class="line">        r = setsocket(nfd, SOL_SOCKET, SO_REUSEDADDR, (char *)&amp;one, sizeof(int));</span><br><span class="line"></span><br><span class="line">        struct sockaddr_in addr;</span><br><span class="line">        memset(&amp;addr, 0, sizeof(addr));</span><br><span class="line"></span><br><span class="line">        addr.sin_family = AF_INET;</span><br><span class="line">        addr.sin_adrr.s_addr = INADDR_ANY;</span><br><span class="line">        addr.sin_port = htons(servrPort);</span><br><span class="line"></span><br><span class="line">        r = bind(nfd, (struct sockaddr*)&amp;addr, sizeof(addr));</span><br><span class="line">        if (r &lt; 0) &#123;</span><br><span class="line">            return -1;</span><br><span class="line">        &#125;</span><br><span class="line">        r = listen(nfd, 10240);</span><br><span class="line">        if (r &lt; 0) &#123;</span><br><span class="line">            return -1;</span><br><span class="line">        &#125;</span><br><span class="line">        int flags;</span><br><span class="line">        if ((flags = fcntl(nfd, F_GETFL, 0)) &lt; 0 || fcntl(nfd, F_SETFL, flags | O_NONBLOCK) &lt; 0) &#123;</span><br><span class="line">            return -1;</span><br><span class="line">        &#125;</span><br><span class="line">        return nfd;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    void start() override &#123;</span><br><span class="line">        int nfd = bindSocket;</span><br><span class="line">        if (nfd &lt; 0) &#123;</span><br><span class="line">            exit(1);</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        HttpServerData httpServerData;</span><br><span class="line">        httpServerData.serviceHandlermap=&amp;serviceHandlerMap_;</span><br><span class="line">        httpserverData.httpContext=&amp;httpContext;</span><br><span class="line">        int threads = std::thread::hardware_concurrency() * 2;</span><br><span class="line">        struct event_base *base_arr[threads];</span><br><span class="line">        baseGroup = base_arr;</span><br><span class="line"></span><br><span class="line">        for (int i = 0; i &lt; threads; i++) &#123;</span><br><span class="line">            std::thread t([&amp;]() &#123;</span><br><span class="line">                struct event_base &amp;base = event_init();</span><br><span class="line">                base_arr[i] = base;</span><br><span class="line">                if (base == NULL) &#123;</span><br><span class="line">                    exit(1);</span><br><span class="line">                &#125;</span><br><span class="line">                struct evhttp *httpd = evhttp_new(base);</span><br><span class="line">                if (httpd == NULL) &#123;</span><br><span class="line">                    exit(1);</span><br><span class="line">                &#125;</span><br><span class="line">                evhttp_accept_socket(httpd, nfd);</span><br><span class="line">                evhttp_set_gencb(httpd, HttpServicehandler_Impl::service_request_cb, (void *)&amp;httpServerData);</span><br><span class="line">                event_base_dispatch(base);</span><br><span class="line">            &#125;);</span><br><span class="line">            if (i &lt; (threads - 1)) &#123;</span><br><span class="line">                t.deatch();</span><br><span class="line">            &#125; else &#123;</span><br><span class="line">                t.join();</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    void stop() override &#123;</span><br><span class="line">        while (baseGroup != NULL) &#123;</span><br><span class="line">            event_base_loopbreak(*baseGroup);</span><br><span class="line">            baseGroup++;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        delete this;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    private:</span><br><span class="line">        std::unordered_map&lt;ServiceConfig, HttpServiceHandler&gt; serviceHandlerMap_;</span><br><span class="line">        struct event_base **baseGroup;</span><br><span class="line">        int serverPort;</span><br><span class="line">        std::string httpContext;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://unasm.com/2019/09/27/visual-studio-code-远程调试C-代码/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content>
      <meta itemprop="description" content>
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="无所欲无所忧，无心者无所求，饱食而遨游，泛若不系之舟">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2019/09/27/visual-studio-code-远程调试C-代码/" itemprop="url">visual studio code 远程调试C++代码</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2019-09-27T14:46:07+08:00">
                2019-09-27
              </time>
            

            

            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p>神奇的vscode，通过vscode直接调试容器中的代码，可以避免处理环境依赖的问题，大大减少琐事。</p>
<p>主要依赖几个插件，Remote Development, Remote Containers用于链接容器, 然后选择Attach a Exist Container, 自己先通过docker run -d 启动容器，这样能加速，避免构建容器的漫长等待，并且环境稳定, 可多次使用。</p>
<p>如果希望调试的话，就必须配置launch.js, 可以通过C/C++ Build and Debug Active File 来创建，其中 program 要制定为自己cmake 生成的out文件，args酌情修改。 也可以把program修改成这样: “${command:cmake.launchTargetPath}”, 实现debugger和cmake的无缝融合</p>
<p>花了很久，主要还是因为对VScode不够了解吧，C的技术栈了解也有限</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">    // Use IntelliSense to learn about possible attributes.</span><br><span class="line">    // Hover to view descriptions of existing attributes.</span><br><span class="line">    // For more information, visit: https://go.microsoft.com/fwlink/?linkid=830387</span><br><span class="line">    &quot;version&quot;: &quot;0.2.0&quot;,</span><br><span class="line">    &quot;configurations&quot;: [</span><br><span class="line">        &#123;</span><br><span class="line">            &quot;name&quot;: &quot;(gdb) Launch&quot;,</span><br><span class="line">            &quot;type&quot;: &quot;cppdbg&quot;,</span><br><span class="line">            &quot;request&quot;: &quot;launch&quot;,</span><br><span class="line">            &quot;program&quot;: &quot;$&#123;workspaceFolder&#125;/build/bin/rpcserver&quot;,</span><br><span class="line">            &quot;args&quot;: [&quot;$&#123;workspaceFolder&#125;/res&quot;],</span><br><span class="line">            &quot;stopAtEntry&quot;: false,</span><br><span class="line">            &quot;cwd&quot;: &quot;$&#123;workspaceFolder&#125;&quot;,</span><br><span class="line">            &quot;environment&quot;: [],</span><br><span class="line">            &quot;externalConsole&quot;: false,</span><br><span class="line">            //&quot;MIMode&quot;: &quot;lldb&quot;,</span><br><span class="line">            &quot;MIMode&quot;: &quot;gdb&quot;,</span><br><span class="line">            &quot;setupCommands&quot;: [</span><br><span class="line">                &#123;</span><br><span class="line">                    &quot;description&quot;: &quot;Enable pretty-printing for gdb&quot;,</span><br><span class="line">                    &quot;text&quot;: &quot;-enable-pretty-printing&quot;,</span><br><span class="line">                    &quot;ignoreFailures&quot;: true</span><br><span class="line">                &#125;</span><br><span class="line">            ]</span><br><span class="line">        &#125;</span><br><span class="line">    ]</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://unasm.com/2019/09/26/CMakeLists的讲解/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content>
      <meta itemprop="description" content>
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="无所欲无所忧，无心者无所求，饱食而遨游，泛若不系之舟">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2019/09/26/CMakeLists的讲解/" itemprop="url">CMakeLists的讲解</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2019-09-26T23:32:01+08:00">
                2019-09-26
              </time>
            

            

            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p>下面是一个系统的cmakelist.txt 文件，我解释下其中的部分，作为自己以后解读cmake的备忘</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br></pre></td><td class="code"><pre><span class="line">cmake_minimum_required(VERSION 3.0)</span><br><span class="line"></span><br><span class="line">// 项目名，必须放在第二位，不然会有CMake Error: Error required internal CMake variable not set这种错误</span><br><span class="line">project( gqa )</span><br><span class="line"></span><br><span class="line">// 设置Debug 模式还是Relase模型， 可以用 cmake -DCMAKE_BUILD_TYPE=Debug . 指定Debug模式</span><br><span class="line">IF(NOT CMAKE_BUILD_TYPE)</span><br><span class="line">    SET(CMAKE_BUILD_TYPE Release)</span><br><span class="line">ENDIF()</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">// message 没有逻辑意义，用于输入提示和变量信息，比如下面，就是用于输出RPC_INCLUDES的变量,</span><br><span class="line">// 其值在rpc-framework-cpp/cmakelist.txt 中 set (RPC_INCLUDES &quot;$&#123;_RPC_DIR&#125;/proto&quot; &quot;$&#123;_RPC_DIR&#125;/include&quot; $&#123;LIBEVENT_INCLUDE_DIRS&#125;) 设置</span><br><span class="line">message(&quot;RPC_INCLUDES=&quot; $&#123;RPC_INCLUDES&#125;)</span><br><span class="line">#set(CMAKE_CXX_FLAGS &quot;$&#123;CMAKE_CXX_FLAGS&#125; -g -std=c++11 -W&quot;)</span><br><span class="line"></span><br><span class="line"># 设置CMAKE_CXX_FLAGS </span><br><span class="line">set(CMAKE_CXX_FLAGS &quot;$&#123;CMAKE_CXX_FLAGS&#125; -g -std=c++11 -pthread -Wl,--as-needed&quot;)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"># 表示本项目并没有include目录</span><br><span class="line">include_directories(</span><br><span class="line">                                   </span><br><span class="line">                   )</span><br><span class="line"></span><br><span class="line">                   </span><br><span class="line"># SET 本身只是将后面的值集合起来通过第一个符号来表示</span><br><span class="line">SET(PATH_INCLUDE_DIR ./include )</span><br><span class="line">set (asm_sources </span><br><span class="line">                ./src/lib/data_utils.cpp</span><br><span class="line">                ./src/lib/test_data_utils.cpp</span><br><span class="line">                ./src/lib/punctuation_model.cpp  </span><br><span class="line">                ./src/lib/punctuation_service.cpp      </span><br><span class="line">                ./src/lib/beam_search_ops.cc</span><br><span class="line">                ./src/lib/beam_search_ops_gpu.cu.cc</span><br><span class="line">                ./src/lib/segmenter.cpp</span><br><span class="line">                ./src/lib/usefultools.cpp </span><br><span class="line">    )</span><br><span class="line"></span><br><span class="line">SET(jsoncpp_sources            </span><br><span class="line">                ./src/lib/json_reader.cpp</span><br><span class="line">                ./src/lib/json_value.cpp</span><br><span class="line">                ./src/lib/json_writer.cpp</span><br><span class="line">                )</span><br><span class="line"></span><br><span class="line"># PROJECT_SOURCE_DIR 是自动的, 表示项目的home目录, link_directories 指定要链接的库文件的路径</span><br><span class="line">link_directories($&#123;PROJECT_SOURCE_DIR&#125;/3rdparty)</span><br><span class="line"></span><br><span class="line">set(CODE_DIRS $&#123;PROJECT_SOURCE_DIR&#125;/src)</span><br><span class="line"></span><br><span class="line">set(SOURCE_DIR $&#123;CODE_DIRS&#125;/lib)</span><br><span class="line">set(TEST_DIR $&#123;CODE_DIRS&#125;/test)</span><br><span class="line"></span><br><span class="line">#EXECUTABLE_OUTPUT_PATH  和 LIBRARY_OUTPUT_PATH 是cmake的常量，表示输出的lib和bin的目录，这里控制输出的路径</span><br><span class="line">set(EXECUTABLE_OUTPUT_PATH $&#123;PROJECT_BINARY_DIR&#125;/bin)</span><br><span class="line">set(LIBRARY_OUTPUT_PATH $&#123;PROJECT_BINARY_DIR&#125;/lib)</span><br><span class="line"></span><br><span class="line">#add_subdirectory($&#123;SOURCE_DIR&#125; $&#123;LIBRARY_OUTPUT_PATH&#125;)</span><br><span class="line">#add_subdirectory($&#123;TEST_DIR&#125; $&#123;EXECUTABLE_OUTPUT_PATH&#125;)</span><br><span class="line"></span><br><span class="line"># 创建一个共享的库文件，运行时动态链接，还有STATIC，MODULE两种选项，分别表示静态库和模块库</span><br><span class="line">add_library(punctuation_lib SHARED</span><br><span class="line">    $&#123;asm_sources&#125;</span><br><span class="line">    $&#123;jsoncpp_sources&#125;</span><br><span class="line">)</span><br><span class="line"></span><br><span class="line"># 为punctuation_lib指定类库，也就是为库文件指定include目录， </span><br><span class="line">target_include_directories(punctuation_lib PUBLIC</span><br><span class="line">    $&#123;PROJECT_SOURCE_DIR&#125;/include </span><br><span class="line">    $&#123;PROJECT_SOURCE_DIR&#125;/include/tensorflow/ </span><br><span class="line">    $&#123;PROJECT_SOURCE_DIR&#125;/include/nsync/</span><br><span class="line">    $&#123;PROJECT_SOURCE_DIR&#125;/include/absl/</span><br><span class="line">    $&#123;PROJECT_SOURCE_DIR&#125;/include/eigen/</span><br><span class="line">    $&#123;PROJECT_SOURCE_DIR&#125;/src/include</span><br><span class="line">    $&#123;PATH_INCLUDE_DIR&#125;</span><br><span class="line">)</span><br><span class="line"></span><br><span class="line"># 为指定的类库文件指定它的依赖</span><br><span class="line">target_link_libraries(punctuation_lib </span><br><span class="line">    libtensorflow_framework.so </span><br><span class="line">    libtensorflow_cc.so</span><br><span class="line">)</span><br><span class="line"></span><br><span class="line">#创建一个可执行的文件，指定它的源码文件, 也就是下面几行都是设置test文件</span><br><span class="line">add_executable(test_tf $&#123;TEST_DIR&#125;/test.cpp)</span><br><span class="line">target_include_directories(test_tf PUBLIC</span><br><span class="line">    $&#123;PROJECT_SOURCE_DIR&#125;/include </span><br><span class="line">    $&#123;PROJECT_SOURCE_DIR&#125;/include/tensorflow/ </span><br><span class="line">    $&#123;PROJECT_SOURCE_DIR&#125;/include/nsync/</span><br><span class="line">    $&#123;PROJECT_SOURCE_DIR&#125;/include/absl/</span><br><span class="line">    $&#123;PROJECT_SOURCE_DIR&#125;/include/eigen/</span><br><span class="line">    $&#123;PROJECT_SOURCE_DIR&#125;/src/include</span><br><span class="line">    $&#123;PATH_INCLUDE_DIR&#125;</span><br><span class="line">)</span><br><span class="line">target_link_libraries(test_tf </span><br><span class="line">    punctuation_lib</span><br><span class="line">)</span><br><span class="line"></span><br><span class="line">#获取rpc-framework-cpp 的代码</span><br><span class="line">if(EXISTS &quot;$&#123;CMAKE_CURRENT_SOURCE_DIR&#125;/rpc-framework-cpp&quot; AND IS_DIRECTORY &quot;$&#123;CMAKE_CURRENT_SOURCE_DIR&#125;/rpc-framework-cpp&quot;)</span><br><span class="line">    message(STATUS &quot;dependency grpc already exits&quot;)</span><br><span class="line">else()</span><br><span class="line">    execute_process(COMMAND git clone -b v0.1.3-protobuf3.7 https://his_group:Aispeech_hisgroup@git.aispeech.com.cn/his-rpc/rpc-framework-cpp.git $&#123;CMAKE_CURRENT_SOURCE_DIR&#125;/rpc-framework-cpp)</span><br><span class="line">endif()</span><br><span class="line">include(./rpc-framework-cpp/CMakeLists.txt)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"># 正式的可执行文件, 也就是每个可执行文件 都有 add_executable/target_include_directories/target_link_libraries 三个步骤,</span><br><span class="line"># 指定include文件和类库，源码文件，比如 target_link_libraries 指定了两个类库，分别由RPC_LIBS和punctuation_lib指定</span><br><span class="line"># 而punctuation_lib是类库，在上面有设置，而RPC_SRC则分别由set(RPC_LIBS event), set(RPC_LIBS $&#123;RPC_LIBS&#125; protobuf grpc++_unsecure gpr) 指定</span><br><span class="line">add_executable(rpcserver rpcserver.cpp $&#123;RPC_SRC&#125;)</span><br><span class="line">target_include_directories(rpcserver PUBLIC $&#123;RPC_INCLUDES&#125; $&#123;PROJECT_SOURCE_DIR&#125;/src/include)</span><br><span class="line">target_link_libraries(rpcserver $&#123;RPC_LIBS&#125; punctuation_lib)</span><br><span class="line">#add_executable(rpcclient rpcclient.cpp $&#123;RPC_SRC&#125;)</span><br><span class="line">#target_link_libraries(rpcclient  $&#123;RPC_LIBS&#125;)</span><br></pre></td></tr></table></figure>
          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
  </section>

  
  <nav class="pagination">
    <span class="page-number current">1</span><a class="page-number" href="/page/2/">2</a><a class="page-number" href="/page/3/">3</a><a class="extend next" rel="next" href="/page/2/"><i class="fa fa-angle-right"></i></a>
  </nav>



          </div>
          


          

        </div>
        
          
  
  <div class="sidebar-toggle">
    <div class="sidebar-toggle-line-wrap">
      <span class="sidebar-toggle-line sidebar-toggle-line-first"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-middle"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-last"></span>
    </div>
  </div>

  <aside id="sidebar" class="sidebar">
    
    <div class="sidebar-inner">

      

      

      <section class="site-overview-wrap sidebar-panel sidebar-panel-active">
        <div class="site-overview">
          <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
            
              <p class="site-author-name" itemprop="name"></p>
              <p class="site-description motion-element" itemprop="description">You're waiting for a train<br>A train that will take you far away<br>You know where you hope will be taken<br>But you can't know for sure<br>Yet it doesn't matter<br>Because we are staying together</p>
          </div>

          <nav class="site-state motion-element">

            
              <div class="site-state-item site-state-posts">
              
                <a href="/archives/">
              
                  <span class="site-state-item-count">26</span>
                  <span class="site-state-item-name">posts</span>
                </a>
              </div>
            

            

            
              
              
              <div class="site-state-item site-state-tags">
                
                  <span class="site-state-item-count">7</span>
                  <span class="site-state-item-name">tags</span>
                
              </div>
            

          </nav>

          

          

          
          

          
          

          

        </div>
      </section>

      

      

    </div>
  </aside>


        
      </div>
    </main>

    <footer id="footer" class="footer">
      <div class="footer-inner">
        <div class="copyright">&copy; <span itemprop="copyrightYear">2020</span>
  <span class="with-love">
    <i class="fa fa-user"></i>
  </span>
  <span class="author" itemprop="copyrightHolder"></span>

  
</div>


  <div class="powered-by">Powered by <a class="theme-link" target="_blank" href="https://hexo.io">Hexo</a></div>



  <span class="post-meta-divider">|</span>



  <div class="theme-info">Theme &mdash; <a class="theme-link" target="_blank" href="https://github.com/iissnan/hexo-theme-next">NexT.Mist</a> v5.1.4</div>




        







        
      </div>
    </footer>

    
      <div class="back-to-top">
        <i class="fa fa-arrow-up"></i>
        
      </div>
    

    

  </div>

  

<script type="text/javascript">
  if (Object.prototype.toString.call(window.Promise) !== '[object Function]') {
    window.Promise = null;
  }
</script>









  












  
  
    <script type="text/javascript" src="/lib/jquery/index.js?v=2.1.3"></script>
  

  
  
    <script type="text/javascript" src="/lib/fastclick/lib/fastclick.min.js?v=1.0.6"></script>
  

  
  
    <script type="text/javascript" src="/lib/jquery_lazyload/jquery.lazyload.js?v=1.9.7"></script>
  

  
  
    <script type="text/javascript" src="/lib/velocity/velocity.min.js?v=1.2.1"></script>
  

  
  
    <script type="text/javascript" src="/lib/velocity/velocity.ui.min.js?v=1.2.1"></script>
  

  
  
    <script type="text/javascript" src="/lib/fancybox/source/jquery.fancybox.pack.js?v=2.1.5"></script>
  


  


  <script type="text/javascript" src="/js/src/utils.js?v=5.1.4"></script>

  <script type="text/javascript" src="/js/src/motion.js?v=5.1.4"></script>



  
  

  

  


  <script type="text/javascript" src="/js/src/bootstrap.js?v=5.1.4"></script>



  


  




	





  





  












  





  

  

  

  
  

  

  

  

</body>
</html>
