<!DOCTYPE html>



  


<html class="theme-next mist use-motion" lang>
<head><meta name="generator" content="Hexo 3.9.0">
  <meta charset="UTF-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
<meta name="theme-color" content="#222">









<meta http-equiv="Cache-Control" content="no-transform">
<meta http-equiv="Cache-Control" content="no-siteapp">
















  
  
  <link href="/lib/fancybox/source/jquery.fancybox.css?v=2.1.5" rel="stylesheet" type="text/css">







<link href="/lib/font-awesome/css/font-awesome.min.css?v=4.6.2" rel="stylesheet" type="text/css">

<link href="/css/main.css?v=5.1.4" rel="stylesheet" type="text/css">


  <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-next.png?v=5.1.4">


  <link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32-next.png?v=5.1.4">


  <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16-next.png?v=5.1.4">


  <link rel="mask-icon" href="/images/logo.svg?v=5.1.4" color="#222">





  <meta name="keywords" content="Hexo, NexT">










<meta name="description" content="You&apos;re waiting for a trainA train that will take you far awayYou know where you hope will be takenBut you can&apos;t know for sureYet it doesn&apos;t matterBecause we are staying together">
<meta name="keywords" content="人工智能，生活随想">
<meta property="og:type" content="website">
<meta property="og:title" content="无所欲无所忧，无心者无所求，饱食而遨游，泛若不系之舟">
<meta property="og:url" content="http://unasm.com/index.html">
<meta property="og:site_name" content="无所欲无所忧，无心者无所求，饱食而遨游，泛若不系之舟">
<meta property="og:description" content="You&apos;re waiting for a trainA train that will take you far awayYou know where you hope will be takenBut you can&apos;t know for sureYet it doesn&apos;t matterBecause we are staying together">
<meta property="og:locale" content="default">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="无所欲无所忧，无心者无所求，饱食而遨游，泛若不系之舟">
<meta name="twitter:description" content="You&apos;re waiting for a trainA train that will take you far awayYou know where you hope will be takenBut you can&apos;t know for sureYet it doesn&apos;t matterBecause we are staying together">



<script type="text/javascript" id="hexo.configurations">
  var NexT = window.NexT || {};
  var CONFIG = {
    root: '/',
    scheme: 'Mist',
    version: '5.1.4',
    sidebar: {"position":"left","display":"post","offset":12,"b2t":false,"scrollpercent":false,"onmobile":false},
    fancybox: true,
    tabs: true,
    motion: {"enable":true,"async":false,"transition":{"post_block":"fadeIn","post_header":"slideDownIn","post_body":"slideDownIn","coll_header":"slideLeftIn","sidebar":"slideUpIn"}},
    duoshuo: {
      userId: '0',
      author: 'Author'
    },
    algolia: {
      applicationID: '',
      apiKey: '',
      indexName: '',
      hits: {"per_page":10},
      labels: {"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}
    }
  };
</script>



  <link rel="canonical" href="http://unasm.com/">





  <title>无所欲无所忧，无心者无所求，饱食而遨游，泛若不系之舟</title>
  








</head>

<body itemscope itemtype="http://schema.org/WebPage" lang="default">

  
  
    
  

  <div class="container sidebar-position-left 
  page-home">
    <div class="headband"></div>

    <header id="header" class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-wrapper">
  <div class="site-meta ">
    

    <div class="custom-logo-site-title">
      <a href="/" class="brand" rel="start">
        <span class="logo-line-before"><i></i></span>
        <span class="site-title">无所欲无所忧，无心者无所求，饱食而遨游，泛若不系之舟</span>
        <span class="logo-line-after"><i></i></span>
      </a>
    </div>
      
        <p class="site-subtitle"></p>
      
  </div>

  <div class="site-nav-toggle">
    <button>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
    </button>
  </div>
</div>

<nav class="site-nav">
  

  
    <ul id="menu" class="menu">
      
        
        <li class="menu-item menu-item-home">
          <a href="/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-home"></i> <br>
            
            Home
          </a>
        </li>
      
        
        <li class="menu-item menu-item-about">
          <a href="/about/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-user"></i> <br>
            
            About
          </a>
        </li>
      
        
        <li class="menu-item menu-item-archives">
          <a href="/archives/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-archive"></i> <br>
            
            Archives
          </a>
        </li>
      

      
    </ul>
  

  
</nav>



 </div>
    </header>

    <main id="main" class="main">
      <div class="main-inner">
        <div class="content-wrap">
          <div id="content" class="content">
            
  <section id="posts" class="posts-expand">
    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://unasm.com/2019/12/15/深入理解C-11/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content>
      <meta itemprop="description" content>
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="无所欲无所忧，无心者无所求，饱食而遨游，泛若不系之舟">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2019/12/15/深入理解C-11/" itemprop="url">深入理解C++ 11</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2019-12-15T22:14:49+08:00">
                2019-12-15
              </time>
            

            

            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h4 id="1-保证稳定性和兼容性"><a href="#1-保证稳定性和兼容性" class="headerlink" title="1 保证稳定性和兼容性"></a>1 保证稳定性和兼容性</h4><h5 id="1-1-保持与C99兼容-STDCHOSTED-STDC-STDCVERSION"><a href="#1-1-保持与C99兼容-STDCHOSTED-STDC-STDCVERSION" class="headerlink" title="1.1 保持与C99兼容(STDCHOSTED_, STDC, STDCVERSION__)"></a>1.1 保持与C99兼容(<strong>STDC</strong>HOSTED_, <strong>STDC</strong>, <strong>STDC</strong>VERSION__)</h5><h6 id="1-1-1-C99中的预定义宏"><a href="#1-1-1-C99中的预定义宏" class="headerlink" title="1.1.1 C99中的预定义宏"></a>1.1.1 C99中的预定义宏</h6><h6 id="1-1-2-func预定义标识符"><a href="#1-1-2-func预定义标识符" class="headerlink" title="1.1.2 func预定义标识符"></a>1.1.2 <strong>func</strong>预定义标识符</h6><h6 id="1-1-3-Pragma操作符"><a href="#1-1-3-Pragma操作符" class="headerlink" title="1.1.3 _Pragma操作符"></a>1.1.3 _Pragma操作符</h6><h6 id="1-1-4-不定参数宏定义以及-VA-ARGS"><a href="#1-1-4-不定参数宏定义以及-VA-ARGS" class="headerlink" title="1.1.4 不定参数宏定义以及 __VA_ARGS"></a>1.1.4 不定参数宏定义以及 __VA_ARGS</h6><h6 id="1-1-5-宽窄字符串链接"><a href="#1-1-5-宽窄字符串链接" class="headerlink" title="1.1.5 宽窄字符串链接"></a>1.1.5 宽窄字符串链接</h6><h5 id="1-2-long-long-整型"><a href="#1-2-long-long-整型" class="headerlink" title="1.2 long long 整型"></a>1.2 long long 整型</h5><h5 id="1-3-扩展整型（signed-char-short-int-int-long-int-long-long-int）"><a href="#1-3-扩展整型（signed-char-short-int-int-long-int-long-long-int）" class="headerlink" title="1.3 扩展整型（signed char, short int, int, long int, long long int）"></a>1.3 扩展整型（signed char, short int, int, long int, long long int）</h5><h5 id="1-4-宏-cplusplus-用于C和C-混合编写"><a href="#1-4-宏-cplusplus-用于C和C-混合编写" class="headerlink" title="1.4 宏 __cplusplus 用于C和C++混合编写"></a>1.4 宏 __cplusplus 用于C和C++混合编写</h5><h5 id="1-5-静态断言"><a href="#1-5-静态断言" class="headerlink" title="1.5 静态断言"></a>1.5 静态断言</h5><p>  断言有助于快速定位违反了某些前提条件的程序错误, assert 只能在程序运行的时候才起作用。static_assert用于编译时候用的断言。</p>
<h5 id="1-6-noexcept-修饰符和-noexcept-操作符"><a href="#1-6-noexcept-修饰符和-noexcept-操作符" class="headerlink" title="1.6 noexcept 修饰符和 noexcept 操作符"></a>1.6 noexcept 修饰符和 noexcept 操作符</h5><p>  noexcept 表示修饰的函数不会抛出异常，如果抛出了异常，编译器直接调用std::terminate()终止运行。</p>
<h5 id="1-7-快速初始化成员变量"><a href="#1-7-快速初始化成员变量" class="headerlink" title="1.7 快速初始化成员变量"></a>1.7 快速初始化成员变量</h5><p>  C++ 11 中，标准允许非静态成员变量的多种初始化形式。具体而言，除了初始化列表之外, 还允许使用等号=或者{}进行就地的非静态成员变量的初始化, 通过花括号式的集合初始化列表。</p>
<h5 id="1-8-非静态成员的sizeof"><a href="#1-8-非静态成员的sizeof" class="headerlink" title="1.8 非静态成员的sizeof"></a>1.8 非静态成员的sizeof</h5><p>  struct People {<br>    public:<br>      int hand;<br>      static People *all;<br>  }<br>  支持 sizeof(People::hand), sizeof(People::all), sizeof((new People()).hand)</p>
<h5 id="1-9-friend-友元"><a href="#1-9-friend-友元" class="headerlink" title="1.9 friend 友元"></a>1.9 friend 友元</h5><p>  可以无视 public, protected, private的属性，友元类或者友元函数都可以访问</p>
<h5 id="1-10-final-override-控制"><a href="#1-10-final-override-控制" class="headerlink" title="1.10 final/override 控制"></a>1.10 final/override 控制</h5><p>  final 关键字用于阻止函数继续重写，使派生类不可覆盖它所修改的虚函数。<br>  如果派生类在虚函数声明时使用了virtual描述符，那么该函数就必须 override 重载基类中的同名函数，否则代码无法编译通过。</p>
<h5 id="1-11-函数模板的默认模板参数"><a href="#1-11-函数模板的默认模板参数" class="headerlink" title="1.11 函数模板的默认模板参数"></a>1.11 函数模板的默认模板参数</h5><p>  template <typename t="int"> class DefClass{}; int 就是默认参数<br>  template &lt;typename T, int i = 0&gt; class DefClass{}; int 就是默认参数<br>  为多个模板参数指定默认值时候，必须遵照从右到左的规定指定</typename></p>
<h5 id="1-12-外部模板"><a href="#1-12-外部模板" class="headerlink" title="1.12 外部模板"></a>1.12 外部模板</h5><p>  声明：extern templat void fun<int>(int), 使用extern声明，不会再实例化代码，而是引用外部的模板声明。也可以把外部模板声明放在头文件中，这样所有包含test.h的头文件中就可以共享这个外部模板声明了。就好比全局变量的定义，外部声明和使用。</int></p>
<h5 id="1-13-局部匿名类型作为模板实参"><a href="#1-13-局部匿名类型作为模板实参" class="headerlink" title="1.13 局部匿名类型作为模板实参"></a>1.13 局部匿名类型作为模板实参</h5><p>  可以使用局部的结构体，变量，匿名的结构体和变量 传递给 模板类和模板函数</p>
<h4 id="2-通用为本，专用为末"><a href="#2-通用为本，专用为末" class="headerlink" title="2. 通用为本，专用为末"></a>2. 通用为本，专用为末</h4><h5 id="2-1-继承构造函数"><a href="#2-1-继承构造函数" class="headerlink" title="2.1 继承构造函数"></a>2.1 继承构造函数</h5><p>  可以使用 using Base::Base 的方式把基类中的构造函数全部集成到派生类中。也可以通过 using Base::f 的方式，继承某一个具体的方法。在多个基类，继承构造函数冲突的时候，可以通过显示定义构造函数，阻止隐式生成响应的继承构造函数。</p>
<h5 id="2-2-委托构造函数"><a href="#2-2-委托构造函数" class="headerlink" title="2.2 委托构造函数"></a>2.2 委托构造函数</h5><p>  原则上编译器不允许构造函数中调用构造函数。 Info(char e): Info() { name = ‘e’}, 也就是说，在初始化列表中进行构造，委派。</p>
<h5 id="2-3-移动语义和完美转发-这块好trick，反正也用不到-有uniptr替代"><a href="#2-3-移动语义和完美转发-这块好trick，反正也用不到-有uniptr替代" class="headerlink" title="2.3 移动语义和完美转发(这块好trick，反正也用不到, 有uniptr替代)"></a>2.3 移动语义和完美转发(这块好trick，反正也用不到, 有uniptr替代)</h5><h6 id="2-3-1-指针成员和拷贝构造"><a href="#2-3-1-指针成员和拷贝构造" class="headerlink" title="2.3.1 指针成员和拷贝构造"></a>2.3.1 指针成员和拷贝构造</h6><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">class HasPtrMem &#123;</span><br><span class="line">  public:</span><br><span class="line">    HasPtrMem(): d(new int(0)) &#123;&#125;</span><br><span class="line">    HasPtrMem(const HasPtrMem &amp; h): d(new int(*h.d)) &#123;&#125;</span><br><span class="line">    ~HasPtrMem() &#123;</span><br><span class="line">      delete d;</span><br><span class="line">    &#125;</span><br><span class="line">    int * d;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>HashPtrMem a; HasPtrMem b(a); a.d 和 b.d 都指向了同一个内存，C++中被称为浅拷贝。</p>
<p>解决办法就是 去掉构造函数中的 const(关于这块，要继续了解const的作用, 正常操作，好像也不会加const吧)</p>
<h6 id="2-3-2-移动语义"><a href="#2-3-2-移动语义" class="headerlink" title="2.3.2 移动语义"></a>2.3.2 移动语义</h6><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">class HasPtrMem &#123;</span><br><span class="line">  public:</span><br><span class="line">  HasPtrMem(): d(new int(3)) &#123;&#125;</span><br><span class="line">  HasPtrMem(const HasPtrMem &amp;h): d(new int(*h.d)) &#123;&#125;  // 注意这里还是const，也就是还是原来的内存，并没有新new</span><br><span class="line">  HasPtrMem(HasPtrMem &amp;&amp; h) d(h.d) &#123;    // 移动构造函数</span><br><span class="line">    h.d = nullptr;                      // 将临时值的指针成员置空</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>因为移动构造完成之后，临时对象会立刻被析构，如果不改变 h.d，析构函数 会析构掉我们本来偷来的堆内存(那如果a = b的时候，也会发生移动构造吧，b的内存会被偷走，也就是说，这里其实也是坑)。</p>
<h6 id="2-3-3-左值，右值，和右值引用"><a href="#2-3-3-左值，右值，和右值引用" class="headerlink" title="2.3.3 左值，右值，和右值引用"></a>2.3.3 左值，右值，和右值引用</h6><ol>
<li>可以取地址的，有名字的，就是左值，不能取地址的，没有名字的，就是右值。</li>
<li>T &amp;&amp; a = ReturnValue(), ReturnValue 本来在返回右值之后，就将析构，而通过右值引用，有重获新生，生命周期将与a一样</li>
<li>T    b = ReturnValue(), b 只是由临时值构成的，而临时值在表示式结束之后，会多一次析构和构造的开销</li>
<li>右值引用不能绑定到任何的左值的。</li>
<li>常量左值引用是一个万能的引用类型，可以接受常量左值，非常量左值，右值进行初始化，但是其引用的右值在余生中只能是只读的。可以使用常量左值引用来减少临时变量的开销。</li>
<li>std::move的作用，把一个左值强制成为右值, Copyable news = std::move(s), 如果s中包含一些一些大块内存指针，news 就可以把内存窃为己有(s自身不可以再使用)</li>
</ol>
<h6 id="2-3-5-移动语义的一些问题"><a href="#2-3-5-移动语义的一些问题" class="headerlink" title="2.3.5 移动语义的一些问题"></a>2.3.5 移动语义的一些问题</h6><p>  通常情况下，如果需要移动语义，程序员就小自己定义移动构造函数</p>
<h6 id="2-3-6-完美转发"><a href="#2-3-6-完美转发" class="headerlink" title="2.3.6 完美转发"></a>2.3.6 完美转发</h6><p>  完美转发是指：函数模板中，完全依照模板的参数类型，将参数传递给函数模板调用的另一个函数，比如 template<typename t> void IamForwarding(T t) {IrunCodeActually(t)}, 这里产生了额外的对象拷贝，如果用常量左值(const T &amp; t)来，则可能有无法接受常量左值的函数存在<br>  template<typename t> void PerfectForward(T &amp;&amp; t) { RunCode(forward<t>(t))}</t></typename></typename></p>
<h5 id="2-4-显式转换操作符"><a href="#2-4-显式转换操作符" class="headerlink" title="2.4 显式转换操作符"></a>2.4 显式转换操作符</h5><p>  explicit 禁止隐式转换</p>
<h5 id="2-5-列表初始化"><a href="#2-5-列表初始化" class="headerlink" title="2.5 列表初始化"></a>2.5 列表初始化</h5><ol>
<li>int a[] = {1, 2,3}</li>
<li>int b[] {1, 2, 3}</li>
<li>vector<int>c {1, 2, 3}</int></li>
<li>可以通过 initializer_list使自定义的类使用列表初始化</li>
<li>POD 类型， Plain Old Data，平凡数据，默认的构造函数，析构函数，默认的拷贝构造和移动构造函数，拷贝赋值运算符和移动赋值运算符，没有虚函数和虚基类，标准布局，没有privat</li>
<li>内联名字空间 允许在父空间定义或者特化子空间名字的模板, inline 相当于 将名字空间导入到父空间中</li>
<li>可以用typedef 和 using 来定义模板和域的别名， using uint = unsigned int;</li>
</ol>
<h4 id="3-新手易学，老兵易用"><a href="#3-新手易学，老兵易用" class="headerlink" title="3 新手易学，老兵易用"></a>3 新手易学，老兵易用</h4><h5 id="3-1-右尖括号-gt-的改进"><a href="#3-1-右尖括号-gt-的改进" class="headerlink" title="3.1 右尖括号 &gt; 的改进"></a>3.1 右尖括号 &gt; 的改进</h5><p>  C++98中，如果实例化模板的时候，出现了连续两个 &gt;， 中间应该用空格隔开，以免编译错误，C++ 11 会要求编译器智能的判断哪些情况下&gt;&gt;不是右移符号。 X&lt; 1&gt;&gt; 5&gt;x, C++98中， 会认为 &gt;&gt; 是位移符号，最终得到 X&lt;0&gt;x, 而在C++ 11中会得到一个编译错误的警告，将第一个&gt; 与 X之后的&lt;匹配， 可以通过将 1 &gt;&gt; 5括起来</p>
<h5 id="3-2-auto类型推导"><a href="#3-2-auto类型推导" class="headerlink" title="3.2 auto类型推导"></a>3.2 auto类型推导</h5><p>  auto声明变量的类型，必须由编译器在编译时期推导而得，可以将复杂的变量声明简化，增加可读性（存疑，理解代码时候，需要自己推导类型），能够自适应，一定程度上支持泛型的编程。</p>
<ol>
<li>auto 并不能从初始表达式中保留CV限制符</li>
<li>auto 并不能作为形参</li>
<li>auto i = 1, j = 4.13f, 编译失败， auto 从左到右推导 i 为int 所以j 也定义为int，标准称：auto是将要被推导出的类型的占位符。</li>
<li>对结构体来说，非静态成员的类型不能是auto，不能声明auto 数组</li>
<li>不能实例化时候，使用auto作为模板参数 </li>
</ol>
<h5 id="3-3-typeid-与-decltype"><a href="#3-3-typeid-与-decltype" class="headerlink" title="3.3 typeid 与 decltype"></a>3.3 typeid 与 decltype</h5><h6 id="3-3-1-RTTI，运行时类型识别"><a href="#3-3-1-RTTI，运行时类型识别" class="headerlink" title="3.3.1 RTTI，运行时类型识别"></a>3.3.1 RTTI，运行时类型识别</h6><p>  在C++11中，增加了 hash_code,返回该类型唯一的哈希值，以供程序员对变量的类型随时进行比较。（(typeid(a).hash_code() == typeid(c).hash_code())，RTTI会带来运行时的开销，所以一些编译器会选择性的关闭该特性。</p>
<h6 id="3-3-3-decltype-推导四原则"><a href="#3-3-3-decltype-推导四原则" class="headerlink" title="3.3.3 decltype 推导四原则"></a>3.3.3 decltype 推导四原则</h6><ol>
<li>如果e是一个没带括号的标记符表达式，或者类成员访问表达式，那么decltype(e) 就是e所命名的实体的类型，如果e是一个被重载的函数，会导致编译时错误</li>
<li>如果e的类型是T，如果e是一个讲亡值，那么decltype(e)为T&amp;&amp;</li>
<li>如果e的类型是T，如果e是一个左值，则decltype(e)为T&amp;</li>
<li>如果e的类型是T，则decltype(e)为T<h6 id="3-3-4-如果对象的定义中有const或者volatile限制符，使用decltype进行推导时，其成员（结构体内部变量）不会继承const或volatile限制符"><a href="#3-3-4-如果对象的定义中有const或者volatile限制符，使用decltype进行推导时，其成员（结构体内部变量）不会继承const或volatile限制符" class="headerlink" title="3.3.4 如果对象的定义中有const或者volatile限制符，使用decltype进行推导时，其成员（结构体内部变量）不会继承const或volatile限制符"></a>3.3.4 如果对象的定义中有const或者volatile限制符，使用decltype进行推导时，其成员（结构体内部变量）不会继承const或volatile限制符</h6><h6 id="3-5-基于范围的for循环"><a href="#3-5-基于范围的for循环" class="headerlink" title="3.5 基于范围的for循环"></a>3.5 基于范围的for循环</h6>for_each(arr, arr + sizeof(arr) / sizeof(arr[0]), action1)<br>for (int &amp; a: arr) {}<br>如果迭代变量在循环中不会被修改，完全可以不用引用的方式来做迭代变量</li>
</ol>
<h4 id="4-提高类型安全"><a href="#4-提高类型安全" class="headerlink" title="4.  提高类型安全"></a>4.  提高类型安全</h4><h5 id="4-1-强枚举类型-enum-class-Type"><a href="#4-1-强枚举类型-enum-class-Type" class="headerlink" title="4.1 强枚举类型 enum class Type"></a>4.1 强枚举类型 enum class Type</h5><ol>
<li>强作用域，不会被输出到父空间作用域</li>
<li>转换限制，不可以与整型隐式的互相转换</li>
</ol>
<h5 id="4-2-智能指针和垃圾回收"><a href="#4-2-智能指针和垃圾回收" class="headerlink" title="4.2 智能指针和垃圾回收"></a>4.2 智能指针和垃圾回收</h5><ol>
<li>unique_ptr 与所指对象的内存紧密绑定，不能与其他unique_ptr类型的指针共享所指的内存，所有权仅能通过move来转移，一旦转移成功，原来的unique_ptr就失去了对象内存的所有权。</li>
<li>shared_ptr 允许多个智能指针共享的拥有同一内存， 调用reset只会降低引用计数，而不会释放，只有在引用计数为0的时候，才会释放所占的堆内存的空间。</li>
<li>weak_ptr 可以指向shared_ptr指针所指向内存，而不拥有该内存，使用lock可以返回其指向内存的shared_ptr对象，如果堆存对象无效的时候，返回空指针。</li>
</ol>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://unasm.com/2019/12/01/亲密关系/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content>
      <meta itemprop="description" content>
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="无所欲无所忧，无心者无所求，饱食而遨游，泛若不系之舟">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2019/12/01/亲密关系/" itemprop="url">亲密关系</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2019-12-01T20:31:15+08:00">
                2019-12-01
              </time>
            

            

            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p>确实值得推荐的一本书，这本书科学的分析了男女在方方面面的不同，对常见的问题，观点进行了科学细致的总结，并有很多中肯的建议。</p>
<h4 id="人际关系的构成"><a href="#人际关系的构成" class="headerlink" title="人际关系的构成"></a>人际关系的构成</h4><h5 id="1-亲密关系中人有归属的需要。"><a href="#1-亲密关系中人有归属的需要。" class="headerlink" title="1. 亲密关系中人有归属的需要。"></a>1. 亲密关系中人有归属的需要。</h5><p>如果归属的需要无法得到满足，会发生各种各样的问题。个体需要的亲密关系无需太多，几个即可。归属需要得到满足之后，与其他人建立人际关系的内驱力就会小很多，只要能持续得到关爱和包容，归属感就能得到满足。一个可能的解释是：归属需要是长期演化的产物，成为人的自然倾向。</p>
<h5 id="2-四种依恋类型"><a href="#2-四种依恋类型" class="headerlink" title="2. 四种依恋类型"></a>2. 四种依恋类型</h5><pre><code>2.1. 安全型：在感情上很容易接近他人，不会忧心独处和不为人接纳（我）
2.2. 痴迷型：希望在亲密关系中投入全部的感情，但是经常发现他人并不乐意把关系发展到自己期望的那般亲密。没有亲密关系会不安，还担心伴侣不会想我看中他一样看中我（如我父亲）
2.3. 恐惧型：和他人亲密接触使我不安，感情上渴望亲密关系，但是很难完全相信或者依赖别人，担心自己会受伤
2.4. 疏离型：没有亲密关系和安心，独立和自给自足很重要，不喜欢依赖别人，或者让人依赖（妙玉？）。</code></pre><p>3，4两种属于回避型。</p>
<h5 id="3-刻板印象夸大了男女在兴趣，风格，能力上的差异。"><a href="#3-刻板印象夸大了男女在兴趣，风格，能力上的差异。" class="headerlink" title="3. 刻板印象夸大了男女在兴趣，风格，能力上的差异。"></a>3. 刻板印象夸大了男女在兴趣，风格，能力上的差异。</h5><p>从统计情况来看，1. 两性差异确实存在，但是非常小。2. 男人或女人性别内的行为和观点差异远大于两性之间的平均差异。3. 两性的行为和观点正态分布上重合非常大。</p>
<h5 id="4-性认同差异"><a href="#4-性认同差异" class="headerlink" title="4. 性认同差异"></a>4. 性认同差异</h5><p>&nbsp;&nbsp;&nbsp;&nbsp;遗传在决定人们的自信和友善倾向时，只起到四分之一或者三分之一的作用，大部分行为都是后天习得。<br>&nbsp;&nbsp;&nbsp;&nbsp;与任务相关的“男子气”的才能称为“工具性”特质，把社交情感有关的“女人味”技能称为“表达性”特质。表达性低的人不太容易付出热情和温柔，也不怎么充满深情，长期来看，与表达性低低配偶结婚就不如与更敏感贴心和友善低人过的满意。另一方面，低工具性的人往往不如高工具性的人自尊程度高和适应能力强（适应能力强的，不应该才更容易宽容和放低姿态么）。<br>&nbsp;&nbsp;&nbsp;&nbsp;人是高度社会化的动物，如果他人不喜欢我们，我们要喜欢自己非常困难。低自尊低人有时会低估伴侣对他们对爱，从而损害亲密关系，还觉知到根本就不存在到漠视。自我评价低到人很难相信伴侣真的深爱自己，往往对爱情能否持续不乐观，又使他们对伴侣偶尔的糟糕情绪反应过度，防御性的把自己隔离起来，生闷气，乱搞一通，还觉得自己更加糟糕。<br>&nbsp;&nbsp;&nbsp;&nbsp;演化学认为，女性在选择伴侣时，比男性谨慎的多，男性则不会这么苛刻。男人比女人更渴望短期性关系。更嗜好与多个伴侣保持风流关系。然而男人想结婚安顿下来则偏好贞洁的女人。在长期关系中比女人更看重外表。女人选择短期伙伴时候，更看重性感，强势，有魅力等。评价有潜力的丈夫时，都把经济前景当作首选。</p>
<h4 id="2-研究方法"><a href="#2-研究方法" class="headerlink" title="2. 研究方法"></a>2. 研究方法</h4><p>&nbsp;&nbsp;&nbsp;&nbsp;亚里士多德认为人是社会动物，并认为有三种不同的友谊</p>
<pre><code>1. 建立在功利基础上的友谊
2. 建立在快乐基础上的友谊
3. 建立在美德基础上的友谊</code></pre><p>&nbsp;&nbsp;&nbsp;&nbsp;如果有人发出实际的邀请，男性比女性更容易接受陌生人的性邀请。</p>
<h4 id="3-吸引力"><a href="#3-吸引力" class="headerlink" title="3. 吸引力"></a>3. 吸引力</h4><p>吸引的几种模式 1. 互补性，2. 喜欢相似的人，3. 仰慕<br>&nbsp;&nbsp;&nbsp;&nbsp;人与人之间产生吸引力最基本的假设是：他人出现对我们有奖赏意义。影响吸引力的奖赏有两种类型，直接奖赏和间接奖赏。直接奖励：如果他人给我们大量的兴趣和赞许，我们会对这种关注和接纳感到非常高兴。如果他人能给我们金钱和地位，我们会更乐意接受这些好处。<br>&nbsp;&nbsp;&nbsp;&nbsp;相似产生吸引力。1. 人会觉得年龄，种族，教育程度，宗教信仰和社会地位等人口统计上的相像。2. 态度和价值的相像。3. 伴侣还可能有着相似的性格。<br>&nbsp;&nbsp;&nbsp;&nbsp;大多数人都更喜欢自己。吸引力的确与我们认知到的他人具有的吸引力特质有关，也还取决于我们的需要，偏好，愿望和所处的情境。人更容易喜欢周围的人，频繁的与人接触不仅能使交往更方便，还会是你让对方觉得更有吸引力。文字和声音中表达的爱意不如脸颊的一吻更打动人。遥远的伴侣一起生活三个月之后，大约有三分之一分手了。<br>&nbsp;&nbsp;&nbsp;&nbsp;人认为外貌俊美的人更讨人喜欢，更好相处。男性英俊但是贫穷对女性则不那么有吸引力。<br>&nbsp;&nbsp;&nbsp;&nbsp;自我监控能力高的人热衷于调整自己的行为一边给人留下好印象。相反，自我监控能力弱的人则尽力恪守自己的信念和愿望。<br>&nbsp;&nbsp;&nbsp;&nbsp;确定爱情关系的伴侣，双方在吸引力上是非常接近。亲密关系越正规严肃，投入程度越多，匹配程度就越明显。名望财富健康才能长相等都像商品一样能用来吸引自己的伴侣，是吸引力的一部分。人们似乎注意到别人接纳和喜欢自己的可能性，更可能与那些愿意接纳而不是拒绝自己的人接近。女人如果确实拥有很高的社会地位，会更加喜欢资源丰富，强势彪悍的男人。<br>&nbsp;&nbsp;&nbsp;&nbsp;故作幽默或轻浮的一句话，可能是最糟糕的开场白。简单的问好不显得做作或者鲁莽，是最聪明的搭讪方法。<br>&nbsp;&nbsp;&nbsp;&nbsp;两个人相识之后，需要一段时间充分了解彼此的共同点和差异，我们会期望对方具有和我们相似的态度和价值观。某种程度上，人们似乎是和幻想中的伴侣结婚，他们爱上的一种人，确认为自己的伴侣就是这种人。</p>
<h4 id="4-社会认知"><a href="#4-社会认知" class="headerlink" title="4. 社会认知"></a>4. 社会认知</h4><h5 id="4-1-伴侣的理想化"><a href="#4-1-伴侣的理想化" class="headerlink" title="4.1 伴侣的理想化"></a>4.1 伴侣的理想化</h5><p>&nbsp;&nbsp;&nbsp;&nbsp;保护自己免遭幻想破灭的聪明办法是：不断调整自己对理想伴侣的期望，某种程度上，人能随心所欲决定自己伴侣已拥有的品质正是自己的期待的，伴侣一般也清楚我们在美化他们，作为回报，我们也从伴侣那得到积极善意的认知评价（也有自我实现的因素？）。</p>
<h5 id="4-2-归因过程"><a href="#4-2-归因过程" class="headerlink" title="4.2 归因过程"></a>4.2 归因过程</h5><pre><code>4.2.1. 尽管伴侣之间有着深入了解，仍收到强烈的观察者效应。对自己行为的解释，和伴侣对类似行为的解释完全两样。最保险的策略是在心里这样假定：即使是最亲密的伴侣也很少真正理想你行为的原因。
4.2.2. 尽管伴侣间存在真爱，也可能出现自利偏差。成功归于自己，推卸失败的责任。人可以估计到他人的自利偏差，而看不到自己也有偏差。人会习惯性的作出自利的解释。
4.2.3 幸福的爱人对伴侣行为的归因都是能改善关系的，认为伴侣的积极行动都是刻意的，习惯的，还能据此推断伴侣其他情境下的行为，也倾向于淡化彼此的过失，认为是偶然的，特殊的，局部的，从而得到谅解。不幸的伴侣则认为伴侣的负面行动都是故意的，习惯的，正面行动是无心的。安全型的人倾向于宽容的采用改善关系的归因，而不安全的人则更悲观。高忧虑被弃的人更容易责备伴侣的不当行为，而回避型的人，对伴侣的体贴行为根本不放心上。</code></pre><h5 id="4-3-记忆"><a href="#4-3-记忆" class="headerlink" title="4.3 记忆"></a>4.3 记忆</h5><p>&nbsp;&nbsp;&nbsp;&nbsp;心理学家用重构性记忆来描述随着新信息的获取不断的修订和改写记忆。伴侣目前的感情影响共同往事的回忆。如果幸福，倾向于忘记过去的不快，如果痛苦，则低估过去的幸福和情谊。好的一面是，满意的爱人会记得过去发生的问题，但是最近都得到了改善，所以比过去更幸福。陷入危机的夫妻回忆则更多是混乱和失落。</p>
<h5 id="4-4-关系信念"><a href="#4-4-关系信念" class="headerlink" title="4.4 关系信念"></a>4.4 关系信念</h5><pre><code>4.4.1   争吵具有破坏性--争吵就表明伴侣爱自己还不够深，如果彼此深深相爱，就不会发生任何争执
4.4.2   “读心术”很重要--真正彼此关爱的伴侣仅凭直觉就能知道对方的需要和偏好。如果必须告诉对方自己的想法和愿望，说明伴侣爱自己不够深
4.4.3   伴侣是不会发生变化的--一旦亲密关系变糟，就无法得到改善，如果爱人曾伤害自己，就还会一再伤害
4.4.4   每一次的性生活都应该是完美的--只要爱情是忠贞的，每一次的性生活都应该是令人满足的。伴侣应该经常渴望并为性生活做好准备
4.4.5   男人和女人就是不一样--男人和女人的性格和需要非常不同，很难真正理解对方
4.4.6   美好姻缘天注定--根本无需努力维护美满的夫妻关系。夫妻要不彼此脾性相投，快乐到老，要不格格不入，争执一生。</code></pre><p>&nbsp;&nbsp;&nbsp;&nbsp;要警惕以上六个观点。当出现问题时，持有这些观念的人不会采取建设性的行动来改善关系。相信爱情天注定，就不会去解决问题，只是逃避问题，更愿意结束不幸福的关系，而不是努力去修复亲密关系。<br>&nbsp;&nbsp;&nbsp;&nbsp;浪漫的情侣比不浪漫的情侣体验到更多的爱意，满足和忠诚，但是现实中的亲密关系，很难满足浪漫主义的期望。</p>
<h5 id="4-4-期望"><a href="#4-4-期望" class="headerlink" title="4.4 期望"></a>4.4 期望</h5><p>&nbsp;&nbsp;&nbsp;&nbsp;关系信念对亲密关系性质的设想，即使是错误的，也会延续下去。人期望他人作出特殊行为，即使这些期望是错误的，后来却能变成现实。这就是自我实现的预言。对他人的期望会引导我们对他人作出的行为，具有促进作用。长期对他人持有不同的期望会逐渐创造出不同的社会环境。忧虑被人拒绝的人往往更可能遭人拒绝。相信自己能克服困难的期望会显得信心十足，也让问题更容易处理。</p>
<h5 id="4-5-自我认知"><a href="#4-5-自我认知" class="headerlink" title="4.5 自我认知"></a>4.5 自我认知</h5><p>&nbsp;&nbsp;&nbsp;&nbsp;人们不会愿意和与自己看法有争执的人住在一起，每天面对矛盾的观点会让人身心疲倦，厌恶透顶。<br>&nbsp;&nbsp;&nbsp;&nbsp;从自己非常熟悉的人那里得到来过分称赞的评价，会让自己不安，并认为对方很虚伪。</p>
<h5 id="4-6-印象管理"><a href="#4-6-印象管理" class="headerlink" title="4.6 印象管理"></a>4.6 印象管理</h5><p>亲密关系之间的印象管理有三个特点。<br>    4.6.1   尽管给好友或者恋人的印象比熟人或陌生人更为重要，但是我们在前者花的时间不如后者。<br>    4.6.2   亲密关系确定之后，人们会费心为自己好友营造讨人喜欢的公共形象，尽可能美化好友形象。<br>    4.6.3   会把他们的亲密关系以某种特殊形象呈现给别人。<br>自我监控能力高的人通常能快速转变形象适应不同的人群，周围有很多专家朋友，而监控能力弱的人的朋友屈指可数且大多相似(我？前者？)。</p>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://unasm.com/2019/11/12/新结构经济学/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content>
      <meta itemprop="description" content>
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="无所欲无所忧，无心者无所求，饱食而遨游，泛若不系之舟">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2019/11/12/新结构经济学/" itemprop="url">新结构经济学</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2019-11-12T00:03:44+08:00">
                2019-11-12
              </time>
            

            

            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p>林毅夫，堪称一代传奇，听说他在国内贡献很大，影响很大，所以就决定看下他的作品和主张，《新结构经济学》，我觉得凭着他的这套主张，确实有资格成为非常非常有影响力的经济学家。</p>
<p>新结构经济学，主要探讨的是一个国家在发展自己经济的时候，应该如何甄别选择行业，如何扶持，一步步之间如何发展和升级，政商之间应该承担哪些责任。他提出的《增长甄别与因势利导框架》（GIFF）应该可以作为整本书的思想核心。</p>
<ol>
<li>发展中国家的政府可以确定一份贸易商品和服务的清单。这些商品和服务应满足以下条件： 在具有与本国相似要素禀赋结构，且人均收入高于本国约100%-200%的高速增长国家中，这些商品和服务的生产已超过20年。</li>
<li>在该清单的产业中间，政府可以优先考虑那些国内私人企业已自发地进入的产业，并设法确定：（1）这些企业提升其产品质量的障碍(所有主政一方的人大概都需要了解吧)；或者说（2）组织其他企业进入该产业的障碍。这些可以通过各种方法的组合来做到，例如价值链分析，或者Hausmann提出的增长诊断框架。然后政府采取措施来消除这些约束，并运用随机对照实验来测试这一过程的影响，以确保这些政策推广到国家层面的有效性。</li>
<li>对国内企业来说，清单上的某些产业可能是全新的产业，或是很少从事出口的企业。这种情况下，政府可以采取特定措施，鼓励在第一步中确定的高收入国家的企业来本国投资这些产业，以利用本国劳动力成本低的优势。政府还可以设立孵化计划，扶持国内私人企业进入该行业。</li>
<li>除了第一步中的贸易商品和服务清单确定的产业外，发展中国家的规模还应密切关注本国成功实现自我发现的其他私人企业，并且为这些产业扩大规模提供帮助。</li>
<li>在基础设置落后，商业环境欠佳的发展中国家中，政府可投资于工业园区或者出口加工区，并且作出必要的改进，以吸引可能愿意投资于目标产业的国内私人企业或者外国产业，对基础设施和商业环境的改善可以降低交易成本，素锦产业发展。然而，由于预算约束和能力有限，大多数政府无法在合理的时间内为整个产业作出理想的改进。因此，集中于改善工业园区或者出口加工区的基础设施和商业环境，就成为一个更易于实现的选择。工业园区和出口加工区还有鼓励产业的聚集优越感。</li>
<li>政府可以在第一步确定的产业清单中的国内驱动企业或者国外投资人提供激励，以补偿他们的投资所创造的非竞争性公共知识。这类措施应有时间的限制和财务成本限制。激励可以是一段时间内的企业所得税减免，或者是对合作投资的直接优惠，或是获取外汇的优先权，激励不应该也不需要以垄断租金，高关税或者其他扭曲的形式出现。寻租和政治捕获的风险可以由此避免。对于在第四步里通过自身努力成功发现新产业的企业，政府可以采取措施以认可他们对国家经济发展的贡献。</li>
</ol>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://unasm.com/2019/10/26/金融战败/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content>
      <meta itemprop="description" content>
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="无所欲无所忧，无心者无所求，饱食而遨游，泛若不系之舟">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2019/10/26/金融战败/" itemprop="url">金融战败</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2019-10-26T21:41:08+08:00">
                2019-10-26
              </time>
            

            

            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p>这本书是日本作家吉川元中的书，介绍了日本广场协议前后的情况，我对那段历史很感兴趣，看之前，我觉得如果贸易战战败的话，中国大概就是日本的样子，所谓失落的十年，不过，看着看着，我觉得不太一样, 莱特希泽的一架纸飞机直接击溃了日本，从此予取予求，中国嘛，至少在节节抵抗。</p>
<p>冷战期间，为了维持美元的强势地位(这就是美联储的目标？？里根和沃尔克在唱和？？)，成就强大美国的形象， 以及货币主义者自由理论的影响，美国国债利率居高不下，大量的日元涌入购买国债（参见美联储1980-1984年的政策，不过沃尔克号称只是抑制通货膨胀），成为美元价值最有力的支撑。</p>
<p>经济繁荣无法掩盖贸易赤字，强势美元造就了企业的衰败，1985年9月，冷战相对缓和，为了解决贸易不平衡问题，五国财长达成了著名的广场协议，美元开始下调汇率贬值，1美元/240日元预期下调到1美元/200日元，然而现实是到1987年2月七国财长会议之后，到了1美元/150日元才告一段落。</p>
<p>然而贸易不均衡并没有得到很好到改善，美元贬值给非耐用性工业原材料带来了直接的好处，比如纸浆，一次性金属，化学品，纺织品，橡胶等。然而1989年之后，这些企业的出口又开始下降。而进口抑制有增无减，美国出口增加有限原因有几点， 1. 形成萎缩条件的未来不确定性，今天贬值，说不定什么时候升值， 2. 必需的人力，资金资源能否确保，3. 必需的技术水平能否确保。 这几点造就了汇率对贸易的影响不会很快有结果（简单来说，就是他们国家就不生产了，一时半会也不能开工，如果保有相关产业，可能影响就更大一些）。</p>
<p>美元的跌幅大大超出预期给日本企业带来严重损失，持有资产骤减40%，为了购买美国国债，日本企业经常用短期借贷的资金购买长期国债，由此带来现金流风险，同时贬值页也带来了巨大的亏损（这些企业真惨，国际利差赚不得），美国则大大减轻了债务压力，顺利实现经济的软着陆，自己一身轻松，太不地道了。</p>
<p>五国财长的协议，日本最惨，是有原因的。日本积极协助美国压力汇率，并且不无得意， 1986年美元大幅度贬值，日本美国利差相差已经不大，日本资金依旧大量购买美国国债，1987年，汇率达到了1美元/120日元，日本资金对美还流终于短暂下降，1988年，1989年又回复如初。据说原因1是大藏省的鼓励或者暗示，原因2是因为泡沫的虚假繁荣。&lt;美元在不断的贬值，却还在不断的购买，中国目前也有类似的举动，是为了实现利益的深度绑定，从而维持自身的安全么？纵容美国的剥削？？但是日本有这种顾虑么？还是政治上的压力？&gt;</p>
<p>1987年之后，日本利率调整到了2.5%的超低水平，长久的低利率政策，加之为了控制日元升值，日本中央银行大量买入美元卖出日元导致日元供给过剩，过剩的货币被吸引到了房地产和股票市场，形成泡沫（中国股市低迷，我应该开心么？比起来投资股票房地产，购买美债看起来还更靠谱了，不过干嘛不购买英镑马克黄金呢？如果那个时间买入英镑避险，等市场崩溃，资产贬值，再回来收割是不是可以人生巅峰。热钱四溢，出逃才是王道，恭喜美国双杀）</p>
<p>1987格林斯潘就任美联储主席，美国独自开始提高利率到5.5%～6%。由此引发了黑色星期一华尔街崩盘，日本为了提振市场大举买入。其他国家如联邦德国只是稍微下调了利率，并且于1988年7月调整了上调利率，选择了和美元脱钩。当时的日本丧失了思考。</p>
<p>日本于1988年开始投资美国的地产，并且大批购买写字楼，宾馆，由此引发了美国的舆论反感，美国开始在银行层面抑制日本，日本的国际融资比例大幅下降。1990年之后近乎于0.</p>
<p>面对日本极高的房价和股票市场，美国和日本达成《结构协议》，强化了公司间相互持股的限制，为瓦解公司股价奠定了条件，同时鼓吹提高生活质量，增加土地供应，降低房价，对已经放出了巨量贷款的金融机构造成了致命的打击，造成了大量的不良债权，很多民众由此家庭破碎。土地调整的正常界限应该是最高价格的20%-30%，不至于产生不良债券，民众如果仍不满，还可以在经济增长中将高出的部分抵消掉。然而现实是跌破了50%以下，进入了不可收拾的局面。</p>
<p>1992年美国经济开始回复，1994年GDP增长率达到3.5%（以邻为壑）, 日本经济则不景气，不良债权问题严重，劳动力成本上升，而且因为日元升值导致进口价格降低，开始通货膨胀，国内制造业难以生存.</p>
<p>1995年，沙特科威特等石油国终于无法容忍美元暴跌，墨西哥再度爆发资金外逃趋势，美国被迫援助，这种情况下，克林顿发起日元升值行动，威胁启用301条款制裁， 进入了美元升值，日元贬值的局面。缓慢流入美国的日本资金再度呈现激增的态势，美国以此弥补了收支赤字，并用剩余资金大举海外投资，重现80年代辉煌。而日本机构和民间则无法容忍超低利率，大肆购买美国的股票和证券。美国发动的亚洲金融危机，则打散了日本在亚洲国家的投资，得以继续想用日本的超低利率。</p>
<p>70年代，国际上不止日本打算推动本国对外资本输出（一带一路是必然喽？），一般来说，资本输入国到资本输出国，以该国货币举债，于是资本输入国则吸收了输出国多余的外汇储备，最终该国形成国际金融中心(中国会形成金融中心么？金融正在开放，正在向这个趋势发展？)。但是在日本举债成本高，日本的公司债注册制度成为阻碍。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">尽管改革严格的外汇管理体制，取消金融的封闭自收不失为长期有效的国策，但却意味着日本的金融机构丧失既得利益，日本的大藏省会因此丧失在金融界中的影响力</span><br></pre></td></tr></table></figure>

<p>（无语，改革就会丧失影响力，政府是吃软饭的么？这就是自由的味道么？）</p>
<p>总的来说日本成为债权国时，未能建立起与之相适应的金融经济结构，过分忠于(??)华尔街，以至于形成泡沫，之后又在处理措施上失误(不好说哦，也许是没办法呢)导致了悲剧。美国则靠着日本过上了肥美滋润的日子，度过了冷战之后，强势美元之后的困难阶段，经济重新进入良性循环。</p>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://unasm.com/2019/10/26/读货币战争有感/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content>
      <meta itemprop="description" content>
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="无所欲无所忧，无心者无所求，饱食而遨游，泛若不系之舟">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2019/10/26/读货币战争有感/" itemprop="url">读货币战争有感</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2019-10-26T11:22:30+08:00">
                2019-10-26
              </time>
            

            

            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p>看到电脑里面有这本书，很久以前似乎有人推荐过，就打开看了，200页，闲书，两天就看完了。</p>
<p>我并不喜欢这本书，或者说，我并不喜欢阴谋论，尤其我不喜欢最后关于黄金的看法，后来在网上看，嗯，看到大家都在骂他我就放心了。阴谋论……就像羽毛球，一招一式皆有法度，有的就是我能做到而你做不到，做好做不好。</p>
<p>凯恩斯的通论，就其基本理念来说，在我看来是不可动摇的，差不多是现在政府施政的基本理念了，还有把黄金说的就像这个世界的救世主一样，法币就是世界的阴谋…., 通货紧缩是比通货膨胀更可怕的敌人，好吧。</p>
<p>不过，如果说这本书有什么可取之处，那就是关于关于石油的那段阴谋喽，石油涨价400%，由此一举奠定了石油美元的地位，顺便收割东南亚各国。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">这个计划最出彩的地方就是“嫁祸于人”，煽动埃及和叙利亚进攻以色列，美国再公开支持以色列来激怒阿拉伯人，最后阿拉伯国家一怒之下对西方国家实施石油禁运，石油价格一飞冲天，而全世界的怒气则全部发泄到阿拉伯国家身上，银行家们一面坐山观虎斗，一面清点着石油美元回流的钞票，一举挽回美元颓势，重夺金融战场主动权，顺手牵羊剪割拉美印尼等国。</span><br><span class="line"></span><br><span class="line">石油价格暴涨使得拉美印尼国家的大量资金被高油价所吞噬，发展中国家要不停止工业化进程，无法偿还世界银行的过量贷款，要不就得向世界银行借更多的钱来购买石油和偿还巨额债务的本息。而世界银行的援助条件则是著名的“IMF四副良药”，国家核心资产私有化，资本市场自由化，生活要素市场市场化，自由贸易国家化，大部分国家喝下这几幅药非死即伤。</span><br></pre></td></tr></table></figure>

<p>不知道是不是真的，反正以色列是美国的跟班，以色列和阿拉伯世界的战争要是跟美国没有关系，我也不会信吧。美国与沙特深度结盟，进而打垮欧佩克，亚洲金融危机也是美国人搅动的，进而大赚特赚，韩国泰国近乎破产, 丧权辱国。</p>
<p>人为刀俎，这也是人家的权利吧。</p>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://unasm.com/2019/10/21/摆脱贫穷/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content>
      <meta itemprop="description" content>
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="无所欲无所忧，无心者无所求，饱食而遨游，泛若不系之舟">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2019/10/21/摆脱贫穷/" itemprop="url">摆脱贫困</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2019-10-21T22:47:33+08:00">
                2019-10-21
              </time>
            

            

            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p>这是习近平于1992年出的一本书，记载了自己在闽东执政期间的一些理念和措施。</p>
<p>习近平还有另一本书，叫《习近平谈治国理政》，我对这本书并不感冒，大的口号并没有意义，见微知著, 魔鬼在细节，能掌控到什么地步，才是关键。</p>
<p>主要感觉有几点，1：实事求是，因地施政，2. 敬畏群众力量, 为人民服务。</p>
<p>实事求是，他一到地方，就各地去走访，边调查边思考，很有意思哈，有点像我买房子，没有调查就没有发言权，只有实地去感受，去谈去问才能有更贴切的结论，然后基于现实去调整政策，比如本地有什么特色啦，具体怎么做，发动力量想办法。最近有一篇文章，说扶贫形式主义，well，形式主义也好，至少还有人去传播这种理念，先富的，有资源的至少有尝试着去帮助贫穷的人。我不好评论在闽东的政治怎么，至少，我能感觉到脚踏实地去想办法。</p>
<p>为人民服务这句话在书里面，不止一次提到，扶贫也基本是贯穿整本书，也谈了不少廉政，宣传等工作，也是为了发动群众力量，所以不管执行的结果怎么样，在他的心里，这确实很重要吧。</p>
<p>我听说有人黑他学历不够，基础教育不深，我只能说，这真是为黑而黑了，书里的旁征博引，让我这河南读书考上985的学生都汗颜，没几个人能写出来这种文章的，好吧，何况还是1992年之前的他。</p>
<p>我其实很好奇，西方的治国理政理念是什么？像小丑一样的选举制度？每四年一次的政策大清洗？找一个商人或者律师来领导国家, 演员当市长？？可能我读的真正比较细的治国的书，就是《美联储》了，我觉得美联储太简单粗暴了，即便是经济学大家的理论，一刀切也过于简单粗暴了，如果说美联储是一个一次函数，中国就是一个神经网络了，在一个大理念之下的各种因地制宜。 不过，我也听说美国有政务和事务两套系统，了解有限。</p>
<p>总的来说，继续看好中国, 同时期待继续加深对西方的了解。</p>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://unasm.com/2019/09/28/祖传代码/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content>
      <meta itemprop="description" content>
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="无所欲无所忧，无心者无所求，饱食而遨游，泛若不系之舟">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2019/09/28/祖传代码/" itemprop="url">祖传代码</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2019-09-28T18:47:48+08:00">
                2019-09-28
              </time>
            

            

            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p>这是一份可以传给我孙子的代码，记录了libevent事件调度和socket网络编程中端口监听的部分</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br></pre></td><td class="code"><pre><span class="line">#include&lt;iostream&gt;</span><br><span class="line">#include&lt;unordered_map&gt;</span><br><span class="line">#include&lt;functional&gt;</span><br><span class="line">#ifndef RPC_FRAMEWORK_HEAD</span><br><span class="line">#define RPC_FRAMEWORK_HEAD</span><br><span class="line">#include &quot;rpc_framework.h&quot;</span><br><span class="line">#endif</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">struct HttpServiceHandler &#123;</span><br><span class="line">    ServiceConfig serviceConfig;</span><br><span class="line">    std::unordered_map&lt;std::string, std::function&lt;void(std::string &amp;, ServiceConfig &amp;, std::string &amp;, std::vector&lt;uint8_t&gt; *, HttpResponse *)&gt;&gt; actionMap;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">struct HttpServerData &#123;</span><br><span class="line">    std::unordered_map&lt;ServiceConfig, HttpServiceHandler&gt; *serviceHandlermap;</span><br><span class="line">    std::string *httpContext;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">class TransferServer</span><br><span class="line">&#123;</span><br><span class="line">    public:</span><br><span class="line">        virtual void start()=0;</span><br><span class="line">        virtual void stop()=0;</span><br><span class="line">        template&lt;typename T, typename... Args&gt;</span><br><span class="line"></span><br><span class="line">        void addMethod(MethodInvoker&lt;T, Args...&gt; &amp;methodInvoker) &#123;</span><br><span class="line"></span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        template&lt;typename T&gt;</span><br><span class="line"></span><br><span class="line">        void addMethod(MethodInvoker&lt;T, void&gt; &amp;methodInvoker) &#123;</span><br><span class="line"></span><br><span class="line">        &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">class HttpTransferServer : public TransferServer</span><br><span class="line">&#123;</span><br><span class="line">    public:</span><br><span class="line">        HttpTransferServer(int serverPort): serverPort(serverPort)&#123;&#125;;</span><br><span class="line">        HttpTransferServer(int serverPort, const std::string &amp;httpContext): serverPort(serverPort), httpContext(httpContext) &#123;&#125;;</span><br><span class="line">        /**</span><br><span class="line">         * 析构函数</span><br><span class="line">         */</span><br><span class="line">        ~HttpTransferServer() &#123;</span><br><span class="line">            // evhttp_free(http)</span><br><span class="line">            // event_base_free(base)</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    int bindSocket() &#123;</span><br><span class="line">        int r;</span><br><span class="line">        int nfd;</span><br><span class="line"></span><br><span class="line">        nfd = socket(AF_INET, SOCK_STREAM, 0);</span><br><span class="line">        if (nfd &lt; 0) &#123;</span><br><span class="line">            return -1;</span><br><span class="line">        &#125;</span><br><span class="line">        int one = 1;</span><br><span class="line">        r = setsocket(nfd, SOL_SOCKET, SO_REUSEDADDR, (char *)&amp;one, sizeof(int));</span><br><span class="line"></span><br><span class="line">        struct sockaddr_in addr;</span><br><span class="line">        memset(&amp;addr, 0, sizeof(addr));</span><br><span class="line"></span><br><span class="line">        addr.sin_family = AF_INET;</span><br><span class="line">        addr.sin_adrr.s_addr = INADDR_ANY;</span><br><span class="line">        addr.sin_port = htons(servrPort);</span><br><span class="line"></span><br><span class="line">        r = bind(nfd, (struct sockaddr*)&amp;addr, sizeof(addr));</span><br><span class="line">        if (r &lt; 0) &#123;</span><br><span class="line">            return -1;</span><br><span class="line">        &#125;</span><br><span class="line">        r = listen(nfd, 10240);</span><br><span class="line">        if (r &lt; 0) &#123;</span><br><span class="line">            return -1;</span><br><span class="line">        &#125;</span><br><span class="line">        int flags;</span><br><span class="line">        if ((flags = fcntl(nfd, F_GETFL, 0)) &lt; 0 || fcntl(nfd, F_SETFL, flags | O_NONBLOCK) &lt; 0) &#123;</span><br><span class="line">            return -1;</span><br><span class="line">        &#125;</span><br><span class="line">        return nfd;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    void start() override &#123;</span><br><span class="line">        int nfd = bindSocket;</span><br><span class="line">        if (nfd &lt; 0) &#123;</span><br><span class="line">            exit(1);</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        HttpServerData httpServerData;</span><br><span class="line">        httpServerData.serviceHandlermap=&amp;serviceHandlerMap_;</span><br><span class="line">        httpserverData.httpContext=&amp;httpContext;</span><br><span class="line">        int threads = std::thread::hardware_concurrency() * 2;</span><br><span class="line">        struct event_base *base_arr[threads];</span><br><span class="line">        baseGroup = base_arr;</span><br><span class="line"></span><br><span class="line">        for (int i = 0; i &lt; threads; i++) &#123;</span><br><span class="line">            std::thread t([&amp;]() &#123;</span><br><span class="line">                struct event_base &amp;base = event_init();</span><br><span class="line">                base_arr[i] = base;</span><br><span class="line">                if (base == NULL) &#123;</span><br><span class="line">                    exit(1);</span><br><span class="line">                &#125;</span><br><span class="line">                struct evhttp *httpd = evhttp_new(base);</span><br><span class="line">                if (httpd == NULL) &#123;</span><br><span class="line">                    exit(1);</span><br><span class="line">                &#125;</span><br><span class="line">                evhttp_accept_socket(httpd, nfd);</span><br><span class="line">                evhttp_set_gencb(httpd, HttpServicehandler_Impl::service_request_cb, (void *)&amp;httpServerData);</span><br><span class="line">                event_base_dispatch(base);</span><br><span class="line">            &#125;);</span><br><span class="line">            if (i &lt; (threads - 1)) &#123;</span><br><span class="line">                t.deatch();</span><br><span class="line">            &#125; else &#123;</span><br><span class="line">                t.join();</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    void stop() override &#123;</span><br><span class="line">        while (baseGroup != NULL) &#123;</span><br><span class="line">            event_base_loopbreak(*baseGroup);</span><br><span class="line">            baseGroup++;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        delete this;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    private:</span><br><span class="line">        std::unordered_map&lt;ServiceConfig, HttpServiceHandler&gt; serviceHandlerMap_;</span><br><span class="line">        struct event_base **baseGroup;</span><br><span class="line">        int serverPort;</span><br><span class="line">        std::string httpContext;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://unasm.com/2019/09/27/visual-studio-code-远程调试C-代码/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content>
      <meta itemprop="description" content>
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="无所欲无所忧，无心者无所求，饱食而遨游，泛若不系之舟">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2019/09/27/visual-studio-code-远程调试C-代码/" itemprop="url">visual studio code 远程调试C++代码</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2019-09-27T14:46:07+08:00">
                2019-09-27
              </time>
            

            

            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p>神奇的vscode，通过vscode直接调试容器中的代码，可以避免处理环境依赖的问题，大大减少琐事。</p>
<p>主要依赖几个插件，Remote Development, Remote Containers用于链接容器, 然后选择Attach a Exist Container, 自己先通过docker run -d 启动容器，这样能加速，避免构建容器的漫长等待，并且环境稳定, 可多次使用。</p>
<p>如果希望调试的话，就必须配置launch.js, 可以通过C/C++ Build and Debug Active File 来创建，其中 program 要制定为自己cmake 生成的out文件，args酌情修改。 也可以把program修改成这样: “${command:cmake.launchTargetPath}”, 实现debugger和cmake的无缝融合</p>
<p>花了很久，主要还是因为对VScode不够了解吧，C的技术栈了解也有限</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">    // Use IntelliSense to learn about possible attributes.</span><br><span class="line">    // Hover to view descriptions of existing attributes.</span><br><span class="line">    // For more information, visit: https://go.microsoft.com/fwlink/?linkid=830387</span><br><span class="line">    &quot;version&quot;: &quot;0.2.0&quot;,</span><br><span class="line">    &quot;configurations&quot;: [</span><br><span class="line">        &#123;</span><br><span class="line">            &quot;name&quot;: &quot;(gdb) Launch&quot;,</span><br><span class="line">            &quot;type&quot;: &quot;cppdbg&quot;,</span><br><span class="line">            &quot;request&quot;: &quot;launch&quot;,</span><br><span class="line">            &quot;program&quot;: &quot;$&#123;workspaceFolder&#125;/build/bin/rpcserver&quot;,</span><br><span class="line">            &quot;args&quot;: [&quot;$&#123;workspaceFolder&#125;/res&quot;],</span><br><span class="line">            &quot;stopAtEntry&quot;: false,</span><br><span class="line">            &quot;cwd&quot;: &quot;$&#123;workspaceFolder&#125;&quot;,</span><br><span class="line">            &quot;environment&quot;: [],</span><br><span class="line">            &quot;externalConsole&quot;: false,</span><br><span class="line">            //&quot;MIMode&quot;: &quot;lldb&quot;,</span><br><span class="line">            &quot;MIMode&quot;: &quot;gdb&quot;,</span><br><span class="line">            &quot;setupCommands&quot;: [</span><br><span class="line">                &#123;</span><br><span class="line">                    &quot;description&quot;: &quot;Enable pretty-printing for gdb&quot;,</span><br><span class="line">                    &quot;text&quot;: &quot;-enable-pretty-printing&quot;,</span><br><span class="line">                    &quot;ignoreFailures&quot;: true</span><br><span class="line">                &#125;</span><br><span class="line">            ]</span><br><span class="line">        &#125;</span><br><span class="line">    ]</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://unasm.com/2019/09/26/CMakeLists的讲解/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content>
      <meta itemprop="description" content>
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="无所欲无所忧，无心者无所求，饱食而遨游，泛若不系之舟">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2019/09/26/CMakeLists的讲解/" itemprop="url">CMakeLists的讲解</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2019-09-26T23:32:01+08:00">
                2019-09-26
              </time>
            

            

            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p>下面是一个系统的cmakelist.txt 文件，我解释下其中的部分，作为自己以后解读cmake的备忘</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br></pre></td><td class="code"><pre><span class="line">cmake_minimum_required(VERSION 3.0)</span><br><span class="line"></span><br><span class="line">// 项目名，必须放在第二位，不然会有CMake Error: Error required internal CMake variable not set这种错误</span><br><span class="line">project( gqa )</span><br><span class="line"></span><br><span class="line">// 设置Debug 模式还是Relase模型， 可以用 cmake -DCMAKE_BUILD_TYPE=Debug . 指定Debug模式</span><br><span class="line">IF(NOT CMAKE_BUILD_TYPE)</span><br><span class="line">    SET(CMAKE_BUILD_TYPE Release)</span><br><span class="line">ENDIF()</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">// message 没有逻辑意义，用于输入提示和变量信息，比如下面，就是用于输出RPC_INCLUDES的变量,</span><br><span class="line">// 其值在rpc-framework-cpp/cmakelist.txt 中 set (RPC_INCLUDES &quot;$&#123;_RPC_DIR&#125;/proto&quot; &quot;$&#123;_RPC_DIR&#125;/include&quot; $&#123;LIBEVENT_INCLUDE_DIRS&#125;) 设置</span><br><span class="line">message(&quot;RPC_INCLUDES=&quot; $&#123;RPC_INCLUDES&#125;)</span><br><span class="line">#set(CMAKE_CXX_FLAGS &quot;$&#123;CMAKE_CXX_FLAGS&#125; -g -std=c++11 -W&quot;)</span><br><span class="line"></span><br><span class="line"># 设置CMAKE_CXX_FLAGS </span><br><span class="line">set(CMAKE_CXX_FLAGS &quot;$&#123;CMAKE_CXX_FLAGS&#125; -g -std=c++11 -pthread -Wl,--as-needed&quot;)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"># 表示本项目并没有include目录</span><br><span class="line">include_directories(</span><br><span class="line">                                   </span><br><span class="line">                   )</span><br><span class="line"></span><br><span class="line">                   </span><br><span class="line"># SET 本身只是将后面的值集合起来通过第一个符号来表示</span><br><span class="line">SET(PATH_INCLUDE_DIR ./include )</span><br><span class="line">set (asm_sources </span><br><span class="line">                ./src/lib/data_utils.cpp</span><br><span class="line">                ./src/lib/test_data_utils.cpp</span><br><span class="line">                ./src/lib/punctuation_model.cpp  </span><br><span class="line">                ./src/lib/punctuation_service.cpp      </span><br><span class="line">                ./src/lib/beam_search_ops.cc</span><br><span class="line">                ./src/lib/beam_search_ops_gpu.cu.cc</span><br><span class="line">                ./src/lib/segmenter.cpp</span><br><span class="line">                ./src/lib/usefultools.cpp </span><br><span class="line">    )</span><br><span class="line"></span><br><span class="line">SET(jsoncpp_sources            </span><br><span class="line">                ./src/lib/json_reader.cpp</span><br><span class="line">                ./src/lib/json_value.cpp</span><br><span class="line">                ./src/lib/json_writer.cpp</span><br><span class="line">                )</span><br><span class="line"></span><br><span class="line"># PROJECT_SOURCE_DIR 是自动的, 表示项目的home目录, link_directories 指定要链接的库文件的路径</span><br><span class="line">link_directories($&#123;PROJECT_SOURCE_DIR&#125;/3rdparty)</span><br><span class="line"></span><br><span class="line">set(CODE_DIRS $&#123;PROJECT_SOURCE_DIR&#125;/src)</span><br><span class="line"></span><br><span class="line">set(SOURCE_DIR $&#123;CODE_DIRS&#125;/lib)</span><br><span class="line">set(TEST_DIR $&#123;CODE_DIRS&#125;/test)</span><br><span class="line"></span><br><span class="line">#EXECUTABLE_OUTPUT_PATH  和 LIBRARY_OUTPUT_PATH 是cmake的常量，表示输出的lib和bin的目录，这里控制输出的路径</span><br><span class="line">set(EXECUTABLE_OUTPUT_PATH $&#123;PROJECT_BINARY_DIR&#125;/bin)</span><br><span class="line">set(LIBRARY_OUTPUT_PATH $&#123;PROJECT_BINARY_DIR&#125;/lib)</span><br><span class="line"></span><br><span class="line">#add_subdirectory($&#123;SOURCE_DIR&#125; $&#123;LIBRARY_OUTPUT_PATH&#125;)</span><br><span class="line">#add_subdirectory($&#123;TEST_DIR&#125; $&#123;EXECUTABLE_OUTPUT_PATH&#125;)</span><br><span class="line"></span><br><span class="line"># 创建一个共享的库文件，运行时动态链接，还有STATIC，MODULE两种选项，分别表示静态库和模块库</span><br><span class="line">add_library(punctuation_lib SHARED</span><br><span class="line">    $&#123;asm_sources&#125;</span><br><span class="line">    $&#123;jsoncpp_sources&#125;</span><br><span class="line">)</span><br><span class="line"></span><br><span class="line"># 为punctuation_lib指定类库，也就是为库文件指定include目录， </span><br><span class="line">target_include_directories(punctuation_lib PUBLIC</span><br><span class="line">    $&#123;PROJECT_SOURCE_DIR&#125;/include </span><br><span class="line">    $&#123;PROJECT_SOURCE_DIR&#125;/include/tensorflow/ </span><br><span class="line">    $&#123;PROJECT_SOURCE_DIR&#125;/include/nsync/</span><br><span class="line">    $&#123;PROJECT_SOURCE_DIR&#125;/include/absl/</span><br><span class="line">    $&#123;PROJECT_SOURCE_DIR&#125;/include/eigen/</span><br><span class="line">    $&#123;PROJECT_SOURCE_DIR&#125;/src/include</span><br><span class="line">    $&#123;PATH_INCLUDE_DIR&#125;</span><br><span class="line">)</span><br><span class="line"></span><br><span class="line"># 为指定的类库文件指定它的依赖</span><br><span class="line">target_link_libraries(punctuation_lib </span><br><span class="line">    libtensorflow_framework.so </span><br><span class="line">    libtensorflow_cc.so</span><br><span class="line">)</span><br><span class="line"></span><br><span class="line">#创建一个可执行的文件，指定它的源码文件, 也就是下面几行都是设置test文件</span><br><span class="line">add_executable(test_tf $&#123;TEST_DIR&#125;/test.cpp)</span><br><span class="line">target_include_directories(test_tf PUBLIC</span><br><span class="line">    $&#123;PROJECT_SOURCE_DIR&#125;/include </span><br><span class="line">    $&#123;PROJECT_SOURCE_DIR&#125;/include/tensorflow/ </span><br><span class="line">    $&#123;PROJECT_SOURCE_DIR&#125;/include/nsync/</span><br><span class="line">    $&#123;PROJECT_SOURCE_DIR&#125;/include/absl/</span><br><span class="line">    $&#123;PROJECT_SOURCE_DIR&#125;/include/eigen/</span><br><span class="line">    $&#123;PROJECT_SOURCE_DIR&#125;/src/include</span><br><span class="line">    $&#123;PATH_INCLUDE_DIR&#125;</span><br><span class="line">)</span><br><span class="line">target_link_libraries(test_tf </span><br><span class="line">    punctuation_lib</span><br><span class="line">)</span><br><span class="line"></span><br><span class="line">#获取rpc-framework-cpp 的代码</span><br><span class="line">if(EXISTS &quot;$&#123;CMAKE_CURRENT_SOURCE_DIR&#125;/rpc-framework-cpp&quot; AND IS_DIRECTORY &quot;$&#123;CMAKE_CURRENT_SOURCE_DIR&#125;/rpc-framework-cpp&quot;)</span><br><span class="line">    message(STATUS &quot;dependency grpc already exits&quot;)</span><br><span class="line">else()</span><br><span class="line">    execute_process(COMMAND git clone -b v0.1.3-protobuf3.7 https://his_group:Aispeech_hisgroup@git.aispeech.com.cn/his-rpc/rpc-framework-cpp.git $&#123;CMAKE_CURRENT_SOURCE_DIR&#125;/rpc-framework-cpp)</span><br><span class="line">endif()</span><br><span class="line">include(./rpc-framework-cpp/CMakeLists.txt)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"># 正式的可执行文件, 也就是每个可执行文件 都有 add_executable/target_include_directories/target_link_libraries 三个步骤,</span><br><span class="line"># 指定include文件和类库，源码文件，比如 target_link_libraries 指定了两个类库，分别由RPC_LIBS和punctuation_lib指定</span><br><span class="line"># 而punctuation_lib是类库，在上面有设置，而RPC_SRC则分别由set(RPC_LIBS event), set(RPC_LIBS $&#123;RPC_LIBS&#125; protobuf grpc++_unsecure gpr) 指定</span><br><span class="line">add_executable(rpcserver rpcserver.cpp $&#123;RPC_SRC&#125;)</span><br><span class="line">target_include_directories(rpcserver PUBLIC $&#123;RPC_INCLUDES&#125; $&#123;PROJECT_SOURCE_DIR&#125;/src/include)</span><br><span class="line">target_link_libraries(rpcserver $&#123;RPC_LIBS&#125; punctuation_lib)</span><br><span class="line">#add_executable(rpcclient rpcclient.cpp $&#123;RPC_SRC&#125;)</span><br><span class="line">#target_link_libraries(rpcclient  $&#123;RPC_LIBS&#125;)</span><br></pre></td></tr></table></figure>
          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://unasm.com/2019/09/19/美联储读后感/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content>
      <meta itemprop="description" content>
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="无所欲无所忧，无心者无所求，饱食而遨游，泛若不系之舟">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2019/09/19/美联储读后感/" itemprop="url">美联储读后感</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2019-09-19T02:01:03+08:00">
                2019-09-19
              </time>
            

            

            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h4 id="1-背景介绍"><a href="#1-背景介绍" class="headerlink" title="1. 背景介绍"></a>1. 背景介绍</h4><p>a. 卡特总统开始甄选美联储出席的候选人，美国的经济此时正处在水深火热之中，通货膨胀达到13%， CPI(消费指数)达到11%，美元贬值，油价暴涨，社会财富两极化严重， 并且初步介绍了美联储，“是代议制民主核心中一个至关重要的畸形人，是与自治民权神话并存的矛盾体”，若隐若现，主宰了经济，但是消失在公众之外。卡特总统的演讲里面有一番话很有意思。不过我感觉今天美国依旧消费主义大行其道，人依旧寅吃卯粮。卡特的这番话似乎并没有大作用。</p>
<p>b. “在一个崇尚努力工作，家庭稳固，亲密社区和上帝信仰的国家，我们当中太多人越来越崇拜自我放纵和过度消费。人们对身份的认知已经不再依靠行为，而是对财产的拥有。但我们发现，拥有和消费并不能满足我们对人生意义的向往，堆积如山的物质财富并不能填满我们因缺乏信心和生活目标而产生的空虚感”</p>
<p>c. 保罗*沃尔克就位，第二天道琼斯爬升，金价下降，故事开始了。</p>
<h4 id="2-第二章介绍美联储"><a href="#2-第二章介绍美联储" class="headerlink" title="2. 第二章介绍美联储"></a>2. 第二章介绍美联储</h4><p>a. 是个十足的怪胎，最高层是七位美联储委员，由美国总统任命，参议院认可，七位委员与12家储备银行行长共享权利，12位行长在各地区私人银行效力，他们是由各区的董事会选举产生的。每次委员会决议，要由12名成员，7位美联储委员和5位联邦储备银行行长，后者由12名行长中轮流产生。之所以是怪胎是因为美联储绝缘于普通人的监督，又控制普通人的生活（unasm：有没有点中国政府的感觉）</p>
<p>b. 美联储有两个小小的阀门，1. 直接面向银行的贴现借贷，2. 政府有价债券的市场买卖。 当美联储从银行手里买入国库券和票据时，不过是将创造的货币存入了买入了这些有价债券的金融机构的储备账户中，增加了货币供给。美联储注入的资金被称为高能货币，复制的过程令人眼花缭乱，美联储注入10亿美元，银行体系立即生成8.4亿贷款，即除去16% 的储备金，8.4亿的贷款又会成为新的贷款本金，除去16%的储备金，剩下7.06美元，也会成为新的存款，并且衍生出新的借贷业务，扣除16%的储备金之后，又会产生5.93亿美元，以此类推， 10亿美元最终在存款中变成超过50美元，这些可以看过全美国的货币供给量，即M-1总额。如果银行的投资组合因借贷政策过于激进而超过了储备金量，它又两个选择， 1. 必须在每周一次的申报期结束时做存结，吸收贷款，废除存款记录， 2. 暂时借入储备金，而这种借入也是有价格的，也就是联邦资金利率。</p>
<h4 id="3-货币主义VS凯恩斯主义"><a href="#3-货币主义VS凯恩斯主义" class="headerlink" title="3. 货币主义VS凯恩斯主义"></a>3. 货币主义VS凯恩斯主义</h4><p>a. 1963年，米尔顿*弗里德曼 和安娜出版了代表其事业巅峰的《美国货币史》。作为倡导自由的保守主义者，弗里德曼从根本上反对政府对私有制市场的自然运行机制进行任何形式的干预， 但是他和凯恩斯主义之间最尖锐的矛盾还是在经济受控于政治的思想。弗里德曼坚称：凯恩斯主义看似以扩大政府财政支出为中心的政府财政政策只会带来短暂的回报，政府对私有经济的影响力其根源来自于对货币的控制，即美联储的货币政策，而美联对货币供给的操作只会破坏社会稳定且遗祸无穷。美联储总是不负责任的控制货币供给量，供给过多造成通货膨胀，然后再实施货币紧缩，从而阻断经济发展，引发经济衰退。</p>
<p>b. 沃尔克希望通过遏制货币统计来调控经济，降低货币的供给可以提高利率，抑制通货膨胀，而比起直接提高利率的方式，通过遏制货币供给可以把利率提高到超出水平的程度而免受攻击。</p>
<p>c. “我希望的是： 对金融市场做出一个强大而积极的反应，利率起初会大幅上扬，但其对人们对通胀预期会产生积极影响，长期利率也会因此而开始下降。这场心理战取得成功的标志，就是长期利率是否会呈现稳定并开始回落的趋势”</p>
<h4 id="4-改革的影响"><a href="#4-改革的影响" class="headerlink" title="4. 改革的影响"></a>4. 改革的影响</h4><p>a. 金融市场的利率攀升，在实际经济中造成影响有亮点： 1. 房地产，汽车，其消费品世行有许多潜在客户会因为更高的购买价格而却步，2. 对于不在乎高利率仍想购买商品的消费者来说，会更难获得贷款。紧缩的信贷条件迫使商业银行和信用合作社谨慎对待货币配给，在借贷人中谨慎选择，优先选择最具竞争力的客户，并且拒绝其他人。</p>
<p>b. 当经济增长呈现过快趋势，交易货币需求量也会随之出现增长，这就会与目标货币供给量发生冲突，其结果就是造成市场利率上升，相应的，利率上升会降低民众的消费欲望，对新贷款的需求也会下降，货币增长量也会减缓，直到恢复美联储想要看到的适当的水平。这就是基本运行原理。在实际操作中，纪律体系会先惩罚最弱小的玩家，而最强大的企业会寻找机会规避不利，举步维艰的企业和收入有限的家庭一定会付出最高的代价，而大型银行则可以吸收来自信用合作社和州立信用合作社逃离的储户。</p>
<p>c. 但是通货膨胀带来的压力依旧使人借来大量的钱来购物，油价再次疯涨，利率升高，一月CPI指数达到了16.8%，黄金几个月翻了一番，银价增长五倍。汽车销量已经下滑到1975年来的最低点，新房建筑量缩减近20%，但是其他产业的消费依然强劲。失业率开始抬头，个人收入正在下滑。唯一的解释是债务，家庭正在用更多的债务补偿缩水的收入。美联储一再提高利率，达到18%，市场短期利率涨到20%。</p>
<h4 id="5-货币控制法案"><a href="#5-货币控制法案" class="headerlink" title="5. 货币控制法案"></a>5. 货币控制法案</h4><p>a. 货币控制法案取消了利率的上限。商业银行之间展开自由竞争，超过1000家储蓄信贷社倒闭或者吞并，大型金融组织地位得到巩固和强化，利润向上流动，高利贷得到允许。</p>
<h4 id="6-经济崩溃"><a href="#6-经济崩溃" class="headerlink" title="6. 经济崩溃"></a>6. 经济崩溃</h4><p>a. 应卡特总统要求，美联储将分门别类的对信贷市场开始控制和管理，但是此举遭到大部分美联储委员反对和嘲笑：“整个行为看起来更像是消费信贷市场的各个角落装点门面”，但是此举反映了总统的意愿：请停止借贷。经济就开始意外崩溃了。消费开销开始大幅度下降，企业信贷也开始缩水， GNP不到三个月骤降10%，人们纷纷开始还清债务，取消了信用卡。卡特的支持率骤降。</p>
<p>b. 泡沫破裂，银价暴跌，亨特兄弟因囤积白银即将破产，波及芝加哥第一美国银行，美国第二大经纪公司，沃尔克紧急救助亨特兄弟。</p>
<p>c. 两周内利率从18%下跌到13%，利率的过度震荡就像魔鬼，让人不安。1980年4月，5月美联储疯狂注入储备金。美联储内部关于是否忠于货币主义产生分歧。六月份利率再次下降到8.5%。但是到7月份经济意外且突然的复苏。消费者重新开始购物，商业活动复苏，信贷业务再次急剧扩张。美元在国际市场的贬值得到遏制。卡特总统在连任竞选中开始攻击美联储提高利率。</p>
<h4 id="7-货币的本质"><a href="#7-货币的本质" class="headerlink" title="7. 货币的本质"></a>7. 货币的本质</h4><p>a. 这章没什么可说的</p>
<h4 id="8-谁应该管理美国经济"><a href="#8-谁应该管理美国经济" class="headerlink" title="8. 谁应该管理美国经济"></a>8. 谁应该管理美国经济</h4><p>a. 美联储最初是被一群底层的劳动人民拥护的，而不是政客和银行家。1877年开始的骑士运动诞生的农民联盟，因为经济紧缩开始有了货币的诉求。通货膨胀会侵蚀家庭金融资产，也会起到财富的再分配的作用。但是通货紧缩会让存款很少的普通人收入缩水，债务负担增加。</p>
<p>b. 1861至1986年的南北战争期间发型的绿币造成通货膨胀，但是对于农民来说，却是最富裕的一段时间。战后，绿币退出流通，金本位恢复，物价回落，农民的收入降低。</p>
<p>c. 1886年绿币党建议国家提供一种货币供给，由政府根据市场信贷需要进行货币扩张或者货币紧缩。目标是通货膨胀，让物价上升，这样农民就可以从农产品中赚钱养家糊口。但是遭到嘲笑，谁来阻止政府无限制的印钱呢（ps: 有没有点今天比特币的辩论），农民改革家解释是：货币供给的增长要与经济增长紧密挂钩。</p>
<h4 id="9-美联储的诞生"><a href="#9-美联储的诞生" class="headerlink" title="9. 美联储的诞生"></a>9. 美联储的诞生</h4><p>a. 1913年， J.P.摩根去世，其巨大的影响力需要被继承。在美国的银行体系陷入恐慌或者流动性困境时候，摩根会组织救援，选择对哪些银行救助，允许哪些银行破产。</p>
<p>b. 美联储的原型：创立由15个主要地区的银行位代表的国家储备委员会，协会由商业银行组成的委员会控制，但是由联邦政府授予权利，其作用相当于一家中央银行，即负责创造货币，并向私人银行借出储备金。这样闲置的储备金得以战略性分配调整，向流动性陷入困难的银行移动。目标是消除金融危机的带来的恐慌</p>
<p>c. 第一次世界大战之后，美国急剧通货膨胀，为降低通货膨胀率，美联储将贴现率从4%提高到7%，之后18个月价格紧缩，经济收缩，生产规模下降42%，失业率激增5倍达到11.9%。美联储开始扮演调控经济的角色，并且地位开始巩固。</p>
<p>d. 1927年，美联储向美国银行体系注入大量流动资金，并且通过海外信贷流动到海外，达到放松欧洲金融市场的目的，但是事与愿违，实体经济疲软， 流动性进入金融市场， 造成泡沫，  1929年秋，大萧条开始，1929-1933年，货币缩水三分之一，大量债务和经济行为在倒闭和债务拖欠的形式加以清算，本来可以通过降低利率刺激信贷和经济行为复苏，本可以购入政府债券注入资金，但是美联储认为这不过是对过剩货币对矫正，也是为了保护重要银行的利益而拒绝加以干涉， 1931年10月，美联储甚至提高了2%的贴现利率，基础货币再次缩水。</p>
<p>e. 清算劳动力，清算股票，清算农民，清算房地产， 其会清除经济体内的腐烂和败坏，人们会更加努力的工作，生活也会变得更有道德意识，价值观将被调整， 有事业心的人将会吸收能力差的人的失败教训。</p>
<p>f. 1932年四月，美联储开始购入国库券，注入货币，然后到夏天又放弃行动。几个月后经济再次紧缩，银行倒闭风潮席卷全国， 5000家银行破产，经济崩溃高峰如约而至。</p>
<h4 id="10-马里纳的新经济学"><a href="#10-马里纳的新经济学" class="headerlink" title="10. 马里纳的新经济学"></a>10. 马里纳的新经济学</h4><p>a. 政府花更多的钱去刺激经济，包括失业救济，公共设施，农业拨款，农田抵押贷款再资助以及战争债务清算。实施一系列有利于长期稳定的改革，针对银行储蓄的联邦保险，一个中央集权的联邦储备系统，重新分配收入的税收改革，最低工资法案，失业保险，养老金，股票市场以及其他经济领域的政府调控。</p>
<p>b. 1934年，马里纳成为美联储主席，他剥夺12位联邦储备银行的投票权和自治权，加强坐镇华盛顿的7位美联储专家的货币政策控制权。</p>
<p>c. 1937年的二次衰退，政府开始削减赤字，同时美联储开始增加各银行的储备金量，吸收过剩的储备金并提高利率。这种结合极具毁灭性造成经济二次衰退。</p>
<p>d. 凯恩斯认为：以市场严重失衡为代表的经济大萧条正是过剩的资金找不到合适的生产投资开始的，病态资本无法用于创造新供给的投资中，直到找到充足需求。解决办法就是： 为刺激生产，必须操纵市场需求商品总量，让持有资金的人确定再次投资可以有利可图，从而恢复资本的形成过程， 实现世界财富的繁殖增长。</p>
<h4 id="11-改革的代价，被牺牲的人"><a href="#11-改革的代价，被牺牲的人" class="headerlink" title="11. 改革的代价，被牺牲的人"></a>11. 改革的代价，被牺牲的人</h4><p>a. 里根总统希望通过减税和削减政府财政支出，增大赤字来复苏经济，刺激增长，这与美联储的抑制通货膨胀的目标相违背。内阁给美联储施加压力，要求配合。1981年4月通胀率降到7.2%，美联储依旧进一步紧缩货币。而减税政策到1983年也未能充分实施。</p>
<h4 id="12-萧条是对畸形繁荣的惩罚"><a href="#12-萧条是对畸形繁荣的惩罚" class="headerlink" title="12. 萧条是对畸形繁荣的惩罚"></a>12. 萧条是对畸形繁荣的惩罚</h4><p>a. 1981， 1982年，企业利润一路下降， 大批公司裁员，民众开始抱怨美联储。强势美元导致美国出口的产品越来越贵，从国外进口越来越便宜，加速了农业和制造业的衰退，但是对金融业利好。</p>
<p>b. 美国银行大量向发展中国家，比如巴西，墨西哥提供贷款。LDC债务急剧扩张，但是项目本身质量令人担忧。</p>
<h4 id="13-被牺牲的都是穷人"><a href="#13-被牺牲的都是穷人" class="headerlink" title="13. 被牺牲的都是穷人"></a>13. 被牺牲的都是穷人</h4><p>a. 对于20世纪末的美国人来说，工厂的频繁倒闭和工人的被迫失业似乎是天经地义。劳工联合会开始失去控制权，工作岗位开始向海外或者不发达的南方流入。1982年12月企业清算达到顶点， 其中绝大多数都是小型企业，  1200W美国工人失业，自杀率增加，非正常死亡率也在增加。联邦利率在15%徘徊，消费指数低于5%。</p>
<p>b. 计算机和高科技人才需求增加， 金融银行业在1981-1982年创造了更多就业岗位，利率的上涨给拥有金融资产的人提供了1480亿美元的收入。货币价值稳定或者增加的话，货币的繁殖速度会更快。</p>
<p>c. 保罗沃尔克自律朴素，对待美国经济如严厉的父亲般对犯错的孩子加以惩罚，对孩子解释那些孩子不能完全理解的原因以及从长远角度来看什么对是孩子最有利的。</p>
<p>d. 斯托克曼和他共进午餐，唐纳德里根和他单独吃早饭，韦登鲍姆也和他见面，所有人都试图和他交易。</p>
<p>e. 墨西哥货币疯狂膨胀，失业率达到13%，濒临无力支付海外贷款利息的地步。但是如果墨西哥崩溃，美国的顶级银行也会随之崩溃。9家银行向墨西哥销售的贷款占其总资本的44%。美联储决定提供6亿美元的短期贷款维持墨西哥经济，7月末又提供7亿美元。</p>
<h4 id="14-经济的急转弯"><a href="#14-经济的急转弯" class="headerlink" title="14. 经济的急转弯"></a>14. 经济的急转弯</h4><p>a. 宾州广场银行因向石油和天然气开发上无节制的贷款而财政状况恶化，美联储，大通曼哈顿，大陆银行等最后决定不救，宾州广场银行周四关门，联邦存款保险公司查封其资产并破产管理，参与投保的存款人将立即收到其账户的全部赔偿，其他债权人和索赔人必须排队等候分享该银行缩水的资产。银行对来自美联储的建议和压力置之不理。美联储对银行无可奈何。</p>
<p>b. 如果墨西哥也即将破产，债务危机会像瀑布一样席卷整个第三世界，从墨西哥到巴西，到阿根廷，秘鲁，智利，委内瑞拉。6月美国银行组织了一笔250亿美元的信贷卡，但是欧洲银行拒绝注入新贷款，私人资本加速逃离墨西哥银行。</p>
<p>c. 美联储开始放松货币政策。沃尔克试图弱化这次政策上的变化，因为不想让货币主义者群起而攻之。联邦资金一降再降， M-1不再增长</p>
<h4 id="15-兜售繁荣"><a href="#15-兜售繁荣" class="headerlink" title="15. 兜售繁荣"></a>15. 兜售繁荣</h4><p>a. 里根总统谴责美联储做的太过火了。</p>
<p>b. 贴现利率下降到8.5%，五个月内第七次降低利率。美联储未来15个月内冻结贴现利率。美国经济普遍遭到打击，但是没有威胁到银行体系，不用重组债务。劳工联合会被迫接受大规模工资削减，房地产的价格也在下降。疯狂的通货膨胀过去了。</p>
<p>c. 墨西哥和巴西从国际货币基金组织大量借贷，条件是接受紧缩条款，接受国际组织对国内经济事务的监督。如果他们中任何一个破产，瞬间购勾销的几十亿贷款会压垮美国众多的大型银行，不过旧债的重新安排并不能根本解决问题，所以要给他们时间自谋生路。</p>
<p>d. 1983年美国经济开始显现复苏。美联储实际上已经成功扭转美国企业的每一笔交易，美国政府也真正意义上为每笔七月设定新的条款，即为解决劳动力工资问题，家庭信用卡和房屋贷款问题，石油和房地产以及船业投资问题，债券和股票问题，以及银行活期账户和货币市场共同基金问题增加新的条件，美联储将日复一日的掌舵美国经济，此时一切都已经走上他们既定轨道。</p>
<p>e. 美联储承担者支持新国库券债务有序销售的希望，同时也不能阻碍美国经济，两种责任会萌发两种倾向，维持宽松信贷环境和稳定利率。美联储决定坚定立场，不再将日益增多的政治压力屈服，国会和总统不要指望通过通货膨胀的方式向他们的财政赤字实施紧急救助。沃尔克选择了新的解决方式。即在经济复苏期间维持高利率，随着经济复苏，名义利率虽然已经下降，但是仍超过了正常水平，货币的真实成本也在上升。利率高，财政部才能销售其债券，吸引全世界各种金融工具，同时高利率也会抑制真实经济过热发展，迫使其接受缓慢扩张。衡量货币成本的真正手段是实际利率。</p>
<h4 id="16-贫富分化加剧，谁之过"><a href="#16-贫富分化加剧，谁之过" class="headerlink" title="16. 贫富分化加剧，谁之过"></a>16. 贫富分化加剧，谁之过</h4><p>a. 沃尔克希望继续连任。华尔街纷纷要求连任。艾伦*格林斯潘放弃成为候选人（成为了下一任），里根只能宣布沃尔克连任： “与总统一样，沃尔克想要看到经济的持续复苏，并下决心降低利率”。</p>
<p>b. 凯恩斯主义经济学家会从一个更加根本的基本点会为这种经济理论和自己的行为辩护。他们指出：这并不是一次“供给方”的经济复苏，而是凯恩斯主义的“需求方”的经济复苏。大致来讲，他们是对的，1983年的经济扩张并没有实现1981年提出的供应经济学前提，相反，这次经济复苏完全遵循的是凯恩斯主义标准格式，即“需求刺激”，是由市场商品的消费性开支货币所领导的一次经济复苏，而非新资本形式的存款人投资。里根的减税政策是通过向私人手里注入更多的现金达到刺激消费需求，加上美联储的放松利率，这些刺激性因素会催生经济扩张。</p>
<p>c. 促成里根时代的根本动力，并非存款而是债务，即靠借钱度日，无论是企业，联邦政府还是个人，统统都是在借钱和花钱，美国的海外债务比例一直在增加。而里根的凯恩斯主义和过去民主党所作完全不同，有效的颠覆了旧时自由主义教条，联邦政府并没有向下层注入货币，每一次击倒最广泛的家庭消费，而是不成比例的将收入集中到上层经济群体手中。高利率对不同阶层的人影响不同，取决于人借钱和存款的方式。</p>
<p>d. 1983年中旬到次年夏天，新增500W个就业岗位，失业率从11%下降到7%，人均收入上涨5.8%，通胀率正降低到4%。可抵押贷款利息超过12%，年轻的家庭仍无法购买他们的第一套房子。</p>
<p>e. 坚挺美元伤害了美国的跨国贸易，日本的汽车，法国的钢铁到美国市场之后更加便宜，而美国的粮食，纤维和计算机到国际市场上变得更加昂贵(ps: 例如苹果？)。底特律因此破落。制造业开始转移到海外（中国1978年改革开放），强势美元压制了美国的物价和工资，但是对制造业造成了长期破坏，美国制造不再有竞争力。国防工业， 金融领域，零售领域，服务领域发展越来越好。</p>
<h4 id="17-美国的又一个早晨"><a href="#17-美国的又一个早晨" class="headerlink" title="17. 美国的又一个早晨"></a>17. 美国的又一个早晨</h4><p>a. 1984年4月，美联储开始将上调利率到9%，并且开始以回复M-1为运作目标。政策开始转向紧缩。抵押贷款一个月之后上涨到15%。房地产开发的繁荣开始急速回落</p>
<p>b. “我们有过一个交易，这个交易就是我们削减预算，美联储就会放松货币，这就是我们这一方的讨价还价，我们做到了我们该做的事情，可现在美联储却在耍我们“， 财政部长这么说。</p>
<p>c. 一则假消息让大陆银行陷入了恐慌，宾州广场倒闭之后，大陆银行并未吸取教训，依旧是激进的信贷策略。16家银行开始共同救助，注入45亿美元资本，众议员谴责美联储放任小银行倒闭却保释大银行。谣言和恐惧困扰着美国银行业。银行业开始停止向美联储借贷。长期政府债券利率增至9.6%，失业率回升。尽管无法说服委员会，沃尔克依旧在8月份开始放松货币，利率下降。</p>
<p>d. 高利率条件下，一部分债务是因为偿还旧债的利息支付，借新债维持旧债。</p>
<h4 id="18-货币的胜利"><a href="#18-货币的胜利" class="headerlink" title="18. 货币的胜利"></a>18. 货币的胜利</h4><p>a. 1984年中旬开始，竞选年份的繁荣被遏制之后，美国经济开始犬牙交错，一个季度上扬，一个季度疲软，无法摆脱毫无生机的经济增长模式。</p>
<p>b. 美联储主席在犹豫不决，利率如此之高时为何还会创造这么多新债务，通货膨胀已经过去了，美国经济的生产力还能不能提高。</p>
<p>c. 保罗沃尔克和美联储让美国以及世界各国卷入一场巨大的痛苦中：长期萎缩，人类悲剧，大众市场消失，混乱生活，持续清算的痛苦。</p>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
  </section>

  
  <nav class="pagination">
    <span class="page-number current">1</span><a class="page-number" href="/page/2/">2</a><a class="page-number" href="/page/3/">3</a><a class="extend next" rel="next" href="/page/2/"><i class="fa fa-angle-right"></i></a>
  </nav>



          </div>
          


          

        </div>
        
          
  
  <div class="sidebar-toggle">
    <div class="sidebar-toggle-line-wrap">
      <span class="sidebar-toggle-line sidebar-toggle-line-first"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-middle"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-last"></span>
    </div>
  </div>

  <aside id="sidebar" class="sidebar">
    
    <div class="sidebar-inner">

      

      

      <section class="site-overview-wrap sidebar-panel sidebar-panel-active">
        <div class="site-overview">
          <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
            
              <p class="site-author-name" itemprop="name"></p>
              <p class="site-description motion-element" itemprop="description">You're waiting for a train<br>A train that will take you far away<br>You know where you hope will be taken<br>But you can't know for sure<br>Yet it doesn't matter<br>Because we are staying together</p>
          </div>

          <nav class="site-state motion-element">

            
              <div class="site-state-item site-state-posts">
              
                <a href="/archives/">
              
                  <span class="site-state-item-count">25</span>
                  <span class="site-state-item-name">posts</span>
                </a>
              </div>
            

            

            
              
              
              <div class="site-state-item site-state-tags">
                
                  <span class="site-state-item-count">7</span>
                  <span class="site-state-item-name">tags</span>
                
              </div>
            

          </nav>

          

          

          
          

          
          

          

        </div>
      </section>

      

      

    </div>
  </aside>


        
      </div>
    </main>

    <footer id="footer" class="footer">
      <div class="footer-inner">
        <div class="copyright">&copy; <span itemprop="copyrightYear">2020</span>
  <span class="with-love">
    <i class="fa fa-user"></i>
  </span>
  <span class="author" itemprop="copyrightHolder"></span>

  
</div>


  <div class="powered-by">Powered by <a class="theme-link" target="_blank" href="https://hexo.io">Hexo</a></div>



  <span class="post-meta-divider">|</span>



  <div class="theme-info">Theme &mdash; <a class="theme-link" target="_blank" href="https://github.com/iissnan/hexo-theme-next">NexT.Mist</a> v5.1.4</div>




        







        
      </div>
    </footer>

    
      <div class="back-to-top">
        <i class="fa fa-arrow-up"></i>
        
      </div>
    

    

  </div>

  

<script type="text/javascript">
  if (Object.prototype.toString.call(window.Promise) !== '[object Function]') {
    window.Promise = null;
  }
</script>









  












  
  
    <script type="text/javascript" src="/lib/jquery/index.js?v=2.1.3"></script>
  

  
  
    <script type="text/javascript" src="/lib/fastclick/lib/fastclick.min.js?v=1.0.6"></script>
  

  
  
    <script type="text/javascript" src="/lib/jquery_lazyload/jquery.lazyload.js?v=1.9.7"></script>
  

  
  
    <script type="text/javascript" src="/lib/velocity/velocity.min.js?v=1.2.1"></script>
  

  
  
    <script type="text/javascript" src="/lib/velocity/velocity.ui.min.js?v=1.2.1"></script>
  

  
  
    <script type="text/javascript" src="/lib/fancybox/source/jquery.fancybox.pack.js?v=2.1.5"></script>
  


  


  <script type="text/javascript" src="/js/src/utils.js?v=5.1.4"></script>

  <script type="text/javascript" src="/js/src/motion.js?v=5.1.4"></script>



  
  

  

  


  <script type="text/javascript" src="/js/src/bootstrap.js?v=5.1.4"></script>



  


  




	





  





  












  





  

  

  

  
  

  

  

  

</body>
</html>
